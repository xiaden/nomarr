[pytest]
# Test collection patterns
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Async test configuration
asyncio_mode = auto
asyncio_default_fixture_loop_scope = function

# Test options
addopts = 
    -v
    --strict-markers
    --tb=short

# Test output options
console_output_style = progress
log_cli = false
log_cli_level = ERROR

# Test markers
markers =
    asyncio: Async tests using pytest-asyncio
    unit: Unit tests (minimal mocking, fast)
    integration: Integration tests (multiple components, real DB)
    e2e: End-to-end tests (full pipeline)
    slow: Slow tests (model loading, heavy computation)
    requires_models: Tests that need model files
    requires_audio: Tests that need audio files
    requires_database: Tests that need Arango to function
    requires_essentia: Tests that need Essentia library
    requires_tensorflow: Tests that need TensorFlow
    container_only: Tests designed to run in Docker container (includes GPU tests, skip in CI)
    code_smell: Architecture/style tests that dont indicate broken functionality (skip in CI)
    mocked: Test uses mocked dependencies (informational)
