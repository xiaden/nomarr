[pytest]
# Test collection patterns
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Test options
addopts = 
    -v
    --strict-markers
    --tb=short
    --disable-warnings

# Test output options
console_output_style = progress
log_cli = false
log_cli_level = ERROR

# Test markers
markers =
    unit: Unit tests (minimal mocking, fast)
    integration: Integration tests (multiple components, real DB)
    e2e: End-to-end tests (full pipeline)
    slow: Slow tests (model loading, heavy computation)
    requires_models: Tests that need model files
    requires_audio: Tests that need audio files
    requires_essentia: Tests that need Essentia library
    requires_tensorflow: Tests that need TensorFlow
    requires_ml: Tests requiring ML dependencies (Essentia/TensorFlow)
    gpu_required: Tests that require GPU for ML inference (skip in CI)
    container_only: Tests designed to run in Docker container (skip in CI)
    code_smell: Architecture/style tests that don't indicate broken functionality (skip in CI)
    mocked: Test uses mocked dependencies (informational)
    real_db: Test uses real database (not in-memory)
