import{c as e,t}from"./Stack-DoLtnbcQ.js";import{i as n,o as r,r as i,t as a,v as o}from"./Select-B5bVQCV0.js";import{t as s}from"./TextField-Bs2H1HgS.js";import{a as c,i as l,n as u,r as d,t as f}from"./TableRow-tyIFvJAE.js";import{At as p,D as m,Dn as h,En as g,Et as _,Gn as ee,It as v,Jt as y,Mn as te,Mt as ne,Nt as b,On as x,Sn as re,Un as S,Xt as ie,Z as ae,an as C,bt as w,ct as T,dn as E,en as D,gn as oe,kt as O,ln as k,lt as A,nn as j,rn as M,rt as N,sn as P,vn as se,w as F,wt as I,xn as L,xt as R,zt as z}from"./index-D3CBCd4e.js";var B={border:0,clip:`rect(0 0 0 0)`,height:`1px`,margin:`-1px`,overflow:`hidden`,padding:0,position:`absolute`,whiteSpace:`nowrap`,width:`1px`};function ce(e,t,n=(e,t)=>e===t){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}var V=ce,H=ee(S()),le=2;function U(e,t,n,r,i){return n===1?Math.min(e+t,i):Math.max(e-t,r)}function W(e,t){return e-t}function ue(e,t){let{index:n}=e.reduce((e,n,r)=>{let i=Math.abs(t-n);return e===null||i<e.distance||i===e.distance?{distance:i,index:r}:e},null)??{};return n}function de(e,t){if(t.current!==void 0&&e.changedTouches){let n=e;for(let e=0;e<n.changedTouches.length;e+=1){let r=n.changedTouches[e];if(r.identifier===t.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function fe(e,t,n){return(e-t)*100/(n-t)}function pe(e,t,n){return(n-t)*e+t}function G(e){if(Math.abs(e)<1){let t=e.toExponential().split(`e-`),n=t[0].split(`.`)[1];return(n?n.length:0)+parseInt(t[1],10)}let t=e.toString().split(`.`)[1];return t?t.length:0}function me(e,t,n){let r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(G(t)))}function he({values:e,newValue:t,index:n}){let r=e.slice();return r[n]=t,r.sort(W)}function K({sliderRef:e,activeIndex:t,setActive:n}){let r=D(e.current);(!e.current?.contains(r.activeElement)||Number(r?.activeElement?.getAttribute(`data-index`))!==t)&&e.current?.querySelector(`[type="range"][data-index="${t}"]`).focus(),n&&n(t)}function q(e,t){return typeof e==`number`&&typeof t==`number`?e===t:typeof e==`object`&&typeof t==`object`?V(e,t):!1}var ge={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}};const _e=e=>e;var J;function ve(){return J===void 0&&(J=typeof CSS<`u`&&typeof CSS.supports==`function`?CSS.supports(`touch-action`,`none`):!0),J}function ye(e){let{"aria-labelledby":t,defaultValue:n,disabled:r=!1,disableSwap:i=!1,isRtl:a=!1,marks:s=!1,max:c=100,min:l=0,name:u,onChange:d,onChangeCommitted:f,orientation:p=`horizontal`,rootRef:m,scale:h=_e,step:g=1,shiftStep:_=10,tabIndex:ee,value:te}=e,b=H.useRef(void 0),[x,S]=H.useState(-1),[ae,C]=H.useState(-1),[w,T]=H.useState(!1),E=H.useRef(0),oe=H.useRef(null),[O,k]=o({controlled:te,default:n??l,name:`Slider`}),A=d&&((e,t,n)=>{let r=e.nativeEvent||e,i=new r.constructor(r.type,r);Object.defineProperty(i,`target`,{writable:!0,value:{value:t,name:u}}),oe.current=t,d(i,t,n)}),j=Array.isArray(O),M=j?O.slice().sort(W):[O];M=M.map(e=>e==null?l:L(e,l,c));let N=s===!0&&g!==null?[...Array(Math.floor((c-l)/g)+1)].map((e,t)=>({value:l+g*t})):s||[],P=N.map(e=>e.value),[se,F]=H.useState(-1),I=H.useRef(null),R=y(m,I),z=e=>t=>{let n=Number(t.currentTarget.getAttribute(`data-index`));ne(t.target)&&F(n),C(n),e?.onFocus?.(t)},ce=e=>t=>{ne(t.target)||F(-1),C(-1),e?.onBlur?.(t)},V=(e,t)=>{let n=Number(e.currentTarget.getAttribute(`data-index`)),r=M[n],a=P.indexOf(r),o=t;if(N&&g==null){let e=P[P.length-1];o=o>=e?e:o<=P[0]?P[0]:o<r?P[a-1]:P[a+1]}if(o=L(o,l,c),j){i&&(o=L(o,M[n-1]||-1/0,M[n+1]||1/0));let e=o;o=he({values:M,newValue:o,index:n});let t=n;i||(t=o.indexOf(e)),K({sliderRef:I,activeIndex:t})}k(o),F(n),A&&!q(o,O)&&A(e,o,n),f&&f(e,oe.current??o)},G=e=>t=>{if([`ArrowUp`,`ArrowDown`,`ArrowLeft`,`ArrowRight`,`PageUp`,`PageDown`,`Home`,`End`].includes(t.key)){t.preventDefault();let e=Number(t.currentTarget.getAttribute(`data-index`)),n=M[e],r=null;if(g!=null){let e=t.shiftKey?_:g;switch(t.key){case`ArrowUp`:r=U(n,e,1,l,c);break;case`ArrowRight`:r=U(n,e,a?-1:1,l,c);break;case`ArrowDown`:r=U(n,e,-1,l,c);break;case`ArrowLeft`:r=U(n,e,a?1:-1,l,c);break;case`PageUp`:r=U(n,_,1,l,c);break;case`PageDown`:r=U(n,_,-1,l,c);break;case`Home`:r=l;break;case`End`:r=c;break;default:break}}else if(N){let e=P[P.length-1],i=P.indexOf(n),o=[a?`ArrowRight`:`ArrowLeft`,`ArrowDown`,`PageDown`,`Home`],s=[a?`ArrowLeft`:`ArrowRight`,`ArrowUp`,`PageUp`,`End`];o.includes(t.key)?r=i===0?P[0]:P[i-1]:s.includes(t.key)&&(r=i===P.length-1?e:P[i+1])}r!=null&&V(t,r)}e?.onKeyDown?.(t)};re(()=>{r&&I.current.contains(document.activeElement)&&document.activeElement?.blur()},[r]),r&&x!==-1&&S(-1),r&&se!==-1&&F(-1);let J=e=>t=>{e.onChange?.(t),V(t,t.target.valueAsNumber)},ye=H.useRef(void 0),be=p;a&&p===`horizontal`&&(be+=`-reverse`);let Y=({finger:e,move:t=!1})=>{let{current:n}=I,{width:r,height:a,bottom:o,left:s}=n.getBoundingClientRect(),u;u=be.startsWith(`vertical`)?(o-e.y)/a:(e.x-s)/r,be.includes(`-reverse`)&&(u=1-u);let d;d=pe(u,l,c),d=g?me(d,g,l):P[ue(P,d)],d=L(d,l,c);let f=0;if(j){f=t?ye.current:ue(M,d),i&&(d=L(d,M[f-1]||-1/0,M[f+1]||1/0));let e=d;d=he({values:M,newValue:d,index:f}),i&&t||(f=d.indexOf(e),ye.current=f)}return{newValue:d,activeIndex:f}},X=ie(e=>{let t=de(e,b);if(!t)return;if(E.current+=1,e.type===`mousemove`&&e.buttons===0){Z(e);return}let{newValue:n,activeIndex:r}=Y({finger:t,move:!0});K({sliderRef:I,activeIndex:r,setActive:S}),k(n),!w&&E.current>le&&T(!0),A&&!q(n,O)&&A(e,n,r)}),Z=ie(e=>{let t=de(e,b);if(T(!1),!t)return;let{newValue:n}=Y({finger:t,move:!0});S(-1),e.type===`touchend`&&C(-1),f&&f(e,oe.current??n),b.current=void 0,$()}),Q=ie(e=>{if(r)return;ve()||e.preventDefault();let t=e.changedTouches[0];t!=null&&(b.current=t.identifier);let n=de(e,b);if(n!==!1){let{newValue:t,activeIndex:r}=Y({finger:n});K({sliderRef:I,activeIndex:r,setActive:S}),k(t),A&&!q(t,O)&&A(e,t,r)}E.current=0;let i=D(I.current);i.addEventListener(`touchmove`,X,{passive:!0}),i.addEventListener(`touchend`,Z,{passive:!0})}),$=H.useCallback(()=>{let e=D(I.current);e.removeEventListener(`mousemove`,X),e.removeEventListener(`mouseup`,Z),e.removeEventListener(`touchmove`,X),e.removeEventListener(`touchend`,Z)},[Z,X]);H.useEffect(()=>{let{current:e}=I;return e.addEventListener(`touchstart`,Q,{passive:ve()}),()=>{e.removeEventListener(`touchstart`,Q),$()}},[$,Q]),H.useEffect(()=>{r&&$()},[r,$]);let xe=e=>t=>{if(e.onMouseDown?.(t),r||t.defaultPrevented||t.button!==0)return;t.preventDefault();let n=de(t,b);if(n!==!1){let{newValue:e,activeIndex:r}=Y({finger:n});K({sliderRef:I,activeIndex:r,setActive:S}),k(e),A&&!q(e,O)&&A(t,e,r)}E.current=0;let i=D(I.current);i.addEventListener(`mousemove`,X,{passive:!0}),i.addEventListener(`mouseup`,Z)},Se=fe(j?M[0]:l,l,c),Ce=fe(M[M.length-1],l,c)-Se,we=(e={})=>{let t=v(e),n={onMouseDown:xe(t||{})},r={...t,...n};return{...e,ref:R,...r}},Te=e=>t=>{e.onMouseOver?.(t),C(Number(t.currentTarget.getAttribute(`data-index`)))},Ee=e=>t=>{e.onMouseLeave?.(t),C(-1)},De=(e={})=>{let t=v(e),n={onMouseOver:Te(t||{}),onMouseLeave:Ee(t||{})};return{...e,...t,...n}},Oe=e=>({pointerEvents:x!==-1&&x!==e?`none`:void 0}),ke;return p===`vertical`&&(ke=a?`vertical-rl`:`vertical-lr`),{active:x,axis:be,axisProps:ge,dragging:w,focusedThumbIndex:se,getHiddenInputProps:(n={})=>{let i=v(n),o={onChange:J(i||{}),onFocus:z(i||{}),onBlur:ce(i||{}),onKeyDown:G(i||{})},s={...i,...o};return{tabIndex:ee,"aria-labelledby":t,"aria-orientation":p,"aria-valuemax":h(c),"aria-valuemin":h(l),name:u,type:`range`,min:e.min,max:e.max,step:e.step===null&&e.marks?`any`:e.step??void 0,disabled:r,...n,...s,style:{...B,direction:a?`rtl`:`ltr`,width:`100%`,height:`100%`,writingMode:ke}}},getRootProps:we,getThumbProps:De,marks:N,open:ae,range:j,rootRef:R,trackLeap:Ce,trackOffset:Se,values:M,getThumbStyle:Oe}}var be=e=>!e||!z(e);function Y(e){return h(`MuiSlider`,e)}var X=g(`MuiSlider`,`root.active.colorPrimary.colorSecondary.colorError.colorInfo.colorSuccess.colorWarning.disabled.dragging.focusVisible.mark.markActive.marked.markLabel.markLabelActive.rail.sizeSmall.thumb.thumbColorPrimary.thumbColorSecondary.thumbColorError.thumbColorSuccess.thumbColorInfo.thumbColorWarning.track.trackInverted.trackFalse.thumbSizeSmall.valueLabel.valueLabelOpen.valueLabelCircle.valueLabelLabel.vertical`.split(`.`)),Z=ee(te()),Q=e=>{let{open:t}=e;return{offset:x(t&&X.valueLabelOpen),circle:X.valueLabelCircle,label:X.valueLabelLabel}};function $(e){let{children:t,className:n,value:r}=e,i=Q(e);return t?H.cloneElement(t,{className:t.props.className},(0,Z.jsxs)(H.Fragment,{children:[t.props.children,(0,Z.jsx)(`span`,{className:x(i.offset,n),"aria-hidden":!0,children:(0,Z.jsx)(`span`,{className:i.circle,children:(0,Z.jsx)(`span`,{className:i.label,children:r})})})]})):null}function xe(e){return e}const Se=k(`span`,{name:`MuiSlider`,slot:`Root`,overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[`color${M(n.color)}`],n.size!==`medium`&&t[`size${M(n.size)}`],n.marked&&t.marked,n.orientation===`vertical`&&t.vertical,n.track===`inverted`&&t.trackInverted,n.track===!1&&t.trackFalse]}})(j(({theme:e})=>({borderRadius:12,boxSizing:`content-box`,display:`inline-block`,position:`relative`,cursor:`pointer`,touchAction:`none`,WebkitTapHighlightColor:`transparent`,"@media print":{colorAdjust:`exact`},[`&.${X.disabled}`]:{pointerEvents:`none`,cursor:`default`,color:(e.vars||e).palette.grey[400]},[`&.${X.dragging}`]:{[`& .${X.thumb}, & .${X.track}`]:{transition:`none`}},variants:[...Object.entries(e.palette).filter(p()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),{props:{orientation:`horizontal`},style:{height:4,width:`100%`,padding:`13px 0`,"@media (pointer: coarse)":{padding:`20px 0`}}},{props:{orientation:`horizontal`,size:`small`},style:{height:2}},{props:{orientation:`horizontal`,marked:!0},style:{marginBottom:20}},{props:{orientation:`vertical`},style:{height:`100%`,width:4,padding:`0 13px`,"@media (pointer: coarse)":{padding:`0 20px`}}},{props:{orientation:`vertical`,size:`small`},style:{width:2}},{props:{orientation:`vertical`,marked:!0},style:{marginRight:44}}]}))),Ce=k(`span`,{name:`MuiSlider`,slot:`Rail`})({display:`block`,position:`absolute`,borderRadius:`inherit`,backgroundColor:`currentColor`,opacity:.38,variants:[{props:{orientation:`horizontal`},style:{width:`100%`,height:`inherit`,top:`50%`,transform:`translateY(-50%)`}},{props:{orientation:`vertical`},style:{height:`100%`,width:`inherit`,left:`50%`,transform:`translateX(-50%)`}},{props:{track:`inverted`},style:{opacity:1}}]}),we=k(`span`,{name:`MuiSlider`,slot:`Track`})(j(({theme:e})=>({display:`block`,position:`absolute`,borderRadius:`inherit`,border:`1px solid currentColor`,backgroundColor:`currentColor`,transition:e.transitions.create([`left`,`width`,`bottom`,`height`],{duration:e.transitions.duration.shortest}),variants:[{props:{size:`small`},style:{border:`none`}},{props:{orientation:`horizontal`},style:{height:`inherit`,top:`50%`,transform:`translateY(-50%)`}},{props:{orientation:`vertical`},style:{width:`inherit`,left:`50%`,transform:`translateX(-50%)`}},{props:{track:!1},style:{display:`none`}},...Object.entries(e.palette).filter(p()).map(([t])=>({props:{color:t,track:`inverted`},style:{...e.vars?{backgroundColor:e.vars.palette.Slider[`${t}Track`],borderColor:e.vars.palette.Slider[`${t}Track`]}:{backgroundColor:e.lighten(e.palette[t].main,.62),borderColor:e.lighten(e.palette[t].main,.62),...e.applyStyles(`dark`,{backgroundColor:e.darken(e.palette[t].main,.5)}),...e.applyStyles(`dark`,{borderColor:e.darken(e.palette[t].main,.5)})}}}))]}))),Te=k(`span`,{name:`MuiSlider`,slot:`Thumb`,overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.thumb,t[`thumbColor${M(n.color)}`],n.size!==`medium`&&t[`thumbSize${M(n.size)}`]]}})(j(({theme:e})=>({position:`absolute`,width:20,height:20,boxSizing:`border-box`,borderRadius:`50%`,outline:0,backgroundColor:`currentColor`,display:`flex`,alignItems:`center`,justifyContent:`center`,transition:e.transitions.create([`box-shadow`,`left`,`bottom`],{duration:e.transitions.duration.shortest}),"&::before":{position:`absolute`,content:`""`,borderRadius:`inherit`,width:`100%`,height:`100%`,boxShadow:(e.vars||e).shadows[2]},"&::after":{position:`absolute`,content:`""`,borderRadius:`50%`,width:42,height:42,top:`50%`,left:`50%`,transform:`translate(-50%, -50%)`},[`&.${X.disabled}`]:{"&:hover":{boxShadow:`none`}},variants:[{props:{size:`small`},style:{width:12,height:12,"&::before":{boxShadow:`none`}}},{props:{orientation:`horizontal`},style:{top:`50%`,transform:`translate(-50%, -50%)`}},{props:{orientation:`vertical`},style:{left:`50%`,transform:`translate(-50%, 50%)`}},...Object.entries(e.palette).filter(p()).map(([t])=>({props:{color:t},style:{[`&:hover, &.${X.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${e.alpha((e.vars||e).palette[t].main,.16)}`,"@media (hover: none)":{boxShadow:`none`}},[`&.${X.active}`]:{boxShadow:`0px 0px 0px 14px ${e.alpha((e.vars||e).palette[t].main,.16)}`}}}))]})));var Ee=k($,{name:`MuiSlider`,slot:`ValueLabel`})(j(({theme:e})=>({zIndex:1,whiteSpace:`nowrap`,...e.typography.body2,fontWeight:500,transition:e.transitions.create([`transform`],{duration:e.transitions.duration.shortest}),position:`absolute`,backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:`flex`,alignItems:`center`,justifyContent:`center`,padding:`0.25rem 0.75rem`,variants:[{props:{orientation:`horizontal`},style:{transform:`translateY(-100%) scale(0)`,top:`-10px`,transformOrigin:`bottom center`,"&::before":{position:`absolute`,content:`""`,width:8,height:8,transform:`translate(-50%, 50%) rotate(45deg)`,backgroundColor:`inherit`,bottom:0,left:`50%`},[`&.${X.valueLabelOpen}`]:{transform:`translateY(-100%) scale(1)`}}},{props:{orientation:`vertical`},style:{transform:`translateY(-50%) scale(0)`,right:`30px`,top:`50%`,transformOrigin:`right center`,"&::before":{position:`absolute`,content:`""`,width:8,height:8,transform:`translate(-50%, -50%) rotate(45deg)`,backgroundColor:`inherit`,right:-8,top:`50%`},[`&.${X.valueLabelOpen}`]:{transform:`translateY(-50%) scale(1)`}}},{props:{size:`small`},style:{fontSize:e.typography.pxToRem(12),padding:`0.25rem 0.5rem`}},{props:{orientation:`vertical`,size:`small`},style:{right:`20px`}}]})));const De=k(`span`,{name:`MuiSlider`,slot:`Mark`,shouldForwardProp:e=>E(e)&&e!==`markActive`,overridesResolver:(e,t)=>{let{markActive:n}=e;return[t.mark,n&&t.markActive]}})(j(({theme:e})=>({position:`absolute`,width:2,height:2,borderRadius:1,backgroundColor:`currentColor`,variants:[{props:{orientation:`horizontal`},style:{top:`50%`,transform:`translate(-1px, -50%)`}},{props:{orientation:`vertical`},style:{left:`50%`,transform:`translate(-50%, 1px)`}},{props:{markActive:!0},style:{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8}}]}))),Oe=k(`span`,{name:`MuiSlider`,slot:`MarkLabel`,shouldForwardProp:e=>E(e)&&e!==`markLabelActive`})(j(({theme:e})=>({...e.typography.body2,color:(e.vars||e).palette.text.secondary,position:`absolute`,whiteSpace:`nowrap`,variants:[{props:{orientation:`horizontal`},style:{top:30,transform:`translateX(-50%)`,"@media (pointer: coarse)":{top:40}}},{props:{orientation:`vertical`},style:{left:36,transform:`translateY(50%)`,"@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(e.vars||e).palette.text.primary}}]})));var ke=e=>{let{disabled:t,dragging:n,marked:r,orientation:i,track:a,classes:o,color:s,size:c}=e;return oe({root:[`root`,t&&`disabled`,n&&`dragging`,r&&`marked`,i===`vertical`&&`vertical`,a===`inverted`&&`trackInverted`,a===!1&&`trackFalse`,s&&`color${M(s)}`,c&&`size${M(c)}`],rail:[`rail`],track:[`track`],mark:[`mark`],markActive:[`markActive`],markLabel:[`markLabel`],markLabelActive:[`markLabelActive`],valueLabel:[`valueLabel`],thumb:[`thumb`,t&&`disabled`,c&&`thumbSize${M(c)}`,s&&`thumbColor${M(s)}`],active:[`active`],disabled:[`disabled`],focusVisible:[`focusVisible`]},Y,o)},Ae=({children:e})=>e,je=H.forwardRef(function(t,n){let r=P({props:t,name:`MuiSlider`}),i=se(),{"aria-label":a,"aria-valuetext":o,"aria-labelledby":s,component:c=`span`,components:l={},componentsProps:u={},color:d=`primary`,classes:f,className:p,disableSwap:m=!1,disabled:h=!1,getAriaLabel:g,getAriaValueText:_,marks:ee=!1,max:v=100,min:y=0,name:te,onChange:ne,onChangeCommitted:b,orientation:re=`horizontal`,shiftStep:S=10,size:ie=`medium`,step:ae=1,scale:C=xe,slotProps:w,slots:T,tabIndex:E,track:D=`normal`,value:oe,valueLabelDisplay:O=`off`,valueLabelFormat:k=xe,...A}=r,j={...r,isRtl:i,max:v,min:y,classes:f,disabled:h,disableSwap:m,orientation:re,marks:ee,color:d,size:ie,step:ae,shiftStep:S,scale:C,track:D,valueLabelDisplay:O,valueLabelFormat:k},{axisProps:M,getRootProps:N,getHiddenInputProps:F,getThumbProps:I,open:L,active:R,axis:B,focusedThumbIndex:ce,range:V,dragging:le,marks:U,values:W,trackOffset:ue,trackLeap:de,getThumbStyle:pe}=ye({...j,rootRef:n});j.marked=U.length>0&&U.some(e=>e.label),j.dragging=le,j.focusedThumbIndex=ce;let G=ke(j),me=T?.root??l.Root??Se,he=T?.rail??l.Rail??Ce,K=T?.track??l.Track??we,q=T?.thumb??l.Thumb??Te,ge=T?.valueLabel??l.ValueLabel??Ee,_e=T?.mark??l.Mark??De,J=T?.markLabel??l.MarkLabel??Oe,ve=T?.input??l.Input??`input`,Y=w?.root??u.root,X=w?.rail??u.rail,Q=w?.track??u.track,$=w?.thumb??u.thumb,je=w?.valueLabel??u.valueLabel,Me=w?.mark??u.mark,Ne=w?.markLabel??u.markLabel,Pe=w?.input??u.input,Fe=e({elementType:me,getSlotProps:N,externalSlotProps:Y,externalForwardedProps:A,additionalProps:{...be(me)&&{as:c}},ownerState:{...j,...Y?.ownerState},className:[G.root,p]}),Ie=e({elementType:he,externalSlotProps:X,ownerState:j,className:G.rail}),Le=e({elementType:K,externalSlotProps:Q,additionalProps:{style:{...M[B].offset(ue),...M[B].leap(de)}},ownerState:{...j,...Q?.ownerState},className:G.track}),Re=e({elementType:q,getSlotProps:I,externalSlotProps:$,ownerState:{...j,...$?.ownerState},className:G.thumb}),ze=e({elementType:ge,externalSlotProps:je,ownerState:{...j,...je?.ownerState},className:G.valueLabel}),Be=e({elementType:_e,externalSlotProps:Me,ownerState:j,className:G.mark}),Ve=e({elementType:J,externalSlotProps:Ne,ownerState:j,className:G.markLabel}),He=e({elementType:ve,getSlotProps:F,externalSlotProps:Pe,ownerState:j});return(0,Z.jsxs)(me,{...Fe,children:[(0,Z.jsx)(he,{...Ie}),(0,Z.jsx)(K,{...Le}),U.filter(e=>e.value>=y&&e.value<=v).map((e,t)=>{let n=fe(e.value,y,v),r=M[B].offset(n),i;return i=D===!1?W.includes(e.value):D===`normal`&&(V?e.value>=W[0]&&e.value<=W[W.length-1]:e.value<=W[0])||D===`inverted`&&(V?e.value<=W[0]||e.value>=W[W.length-1]:e.value>=W[0]),(0,Z.jsxs)(H.Fragment,{children:[(0,Z.jsx)(_e,{"data-index":t,...Be,...!z(_e)&&{markActive:i},style:{...r,...Be.style},className:x(Be.className,i&&G.markActive)}),e.label==null?null:(0,Z.jsx)(J,{"aria-hidden":!0,"data-index":t,...Ve,...!z(J)&&{markLabelActive:i},style:{...r,...Ve.style},className:x(G.markLabel,Ve.className,i&&G.markLabelActive),children:e.label})]},t)}),W.map((e,t)=>{let n=fe(e,y,v),r=M[B].offset(n),i=O===`off`?Ae:ge;return(0,Z.jsx)(i,{...!z(i)&&{valueLabelFormat:k,valueLabelDisplay:O,value:typeof k==`function`?k(C(e),t):k,index:t,open:L===t||R===t||O===`on`,disabled:h},...ze,children:(0,Z.jsx)(q,{"data-index":t,...Re,className:x(G.thumb,Re.className,R===t&&G.active,ce===t&&G.focusVisible),style:{...r,...pe(t),...Re.style},children:(0,Z.jsx)(ve,{"data-index":t,"aria-label":g?g(t):a,"aria-valuenow":C(e),"aria-labelledby":s,"aria-valuetext":_?_(C(e),t):o,value:W[t],...He})})},t)})]})});function Me(){let[e,t]=(0,H.useState)(!1),[n,r]=(0,H.useState)(null),[i,a]=(0,H.useState)(null);return{loading:e,error:n,results:i,searchByFileId:(0,H.useCallback)(async(e,n,i=10,o=0)=>{t(!0),r(null),a(null);try{a((await m(e,(await F(e,n)).vector,i,o)).results)}catch(t){t instanceof ae?t.status===404?r(`No vector found for this track with backbone "${e}". The track may not have been processed yet.`):t.status===503?r(`Vector search not available: no vector index exists. Run promote & rebuild from the admin panel first.`):r(`API Error (${t.status}): ${t.message}`):t instanceof Error?r(t.message):r(`Unknown error occurred`)}finally{t(!1)}},[]),searchByVector:(0,H.useCallback)(async(e,n,i=10,o=0)=>{t(!0),r(null),a(null);try{a((await m(e,n,i,o)).results)}catch(e){e instanceof ae?e.status===503?r(`Vector search not available: no vector index exists. Run promote & rebuild from the admin panel first.`):r(`API Error (${e.status}): ${e.message}`):e instanceof Error?r(e.message):r(`Unknown error occurred`)}finally{t(!1)}},[])}}var Ne=[`discogs_effnet`,`discogs_musicnn`];function Pe(){let[e]=C(),[o,p]=(0,H.useState)(Ne[0]),[m,h]=(0,H.useState)(``),[g,ee]=(0,H.useState)(10),[v,y]=(0,H.useState)(0);(0,H.useEffect)(()=>{let t=e.get(`fileId`);t&&!m&&h(t)},[e,m]);let{loading:te,error:ne,results:x,searchByFileId:re}=Me(),S=(0,H.useCallback)(async()=>{m.trim()&&await re(o,m.trim(),g,v)},[o,m,g,v,re]);return(0,Z.jsx)(N,{title:`Vector Search`,children:(0,Z.jsxs)(t,{spacing:3,children:[(0,Z.jsxs)(A,{children:[(0,Z.jsx)(T,{title:`Search Parameters`}),(0,Z.jsxs)(t,{spacing:2,children:[(0,Z.jsxs)(r,{fullWidth:!0,size:`small`,children:[(0,Z.jsx)(n,{children:`Backbone`}),(0,Z.jsx)(a,{value:o,label:`Backbone`,onChange:e=>p(e.target.value),children:Ne.map(e=>(0,Z.jsx)(i,{value:e,children:e},e))})]}),(0,Z.jsx)(s,{label:`File ID`,placeholder:`library_files/12345`,value:m,onChange:e=>h(e.target.value),size:`small`,fullWidth:!0,helperText:`Enter a library file ID to find similar tracks`}),(0,Z.jsxs)(R,{children:[(0,Z.jsxs)(I,{variant:`body2`,gutterBottom:!0,children:[`Limit: `,g]}),(0,Z.jsx)(je,{value:g,onChange:(e,t)=>ee(t),min:1,max:100,valueLabelDisplay:`auto`})]}),(0,Z.jsxs)(R,{children:[(0,Z.jsxs)(I,{variant:`body2`,gutterBottom:!0,children:[`Min Score: `,v.toFixed(2)]}),(0,Z.jsx)(je,{value:v,onChange:(e,t)=>y(t),min:0,max:1,step:.01,valueLabelDisplay:`auto`})]}),(0,Z.jsx)(w,{variant:`contained`,onClick:S,disabled:te||!m.trim(),children:te?(0,Z.jsx)(O,{size:24}):`Search`})]})]}),ne&&(0,Z.jsx)(_,{severity:`error`,children:ne}),x&&x.length>0&&(0,Z.jsxs)(A,{children:[(0,Z.jsx)(T,{title:`Results (${x.length})`}),(0,Z.jsx)(b,{variant:`outlined`,children:(0,Z.jsxs)(c,{size:`small`,children:[(0,Z.jsx)(u,{children:(0,Z.jsxs)(f,{children:[(0,Z.jsx)(d,{children:`File ID`}),(0,Z.jsx)(d,{align:`right`,children:`Score`})]})}),(0,Z.jsx)(l,{children:x.map((e,t)=>(0,Z.jsxs)(f,{children:[(0,Z.jsx)(d,{children:(0,Z.jsx)(I,{component:`a`,href:`#/browse?file=${encodeURIComponent(e.file_id)}`,sx:{textDecoration:`none`,color:`primary.main`},children:e.file_id})}),(0,Z.jsx)(d,{align:`right`,children:e.score.toFixed(4)})]},t))})]})})]}),x&&x.length===0&&(0,Z.jsx)(_,{severity:`info`,children:`No similar tracks found. Try adjusting the search parameters.`})]})})}export{Pe as VectorSearchPage};