import{t as e}from"./Stack-B65G-2W0.js";import{d as t,f as n,i as r,m as i,n as a,p as o,r as s,t as c,u as l}from"./TextField-BzikLwEx.js";import{t as u}from"./useSlotProps-CB3aTem6.js";import{t as d}from"./Chip-BlysArp3.js";import{n as f,r as p,t as m}from"./MenuItem-B6TTKVgQ.js";import{$ as h,At as g,Bt as _,Ct as v,Ft as y,Gt as b,H as x,Kt as S,Lt as C,Mt as w,O as T,Ot as E,Pt as D,Rt as O,V as k,Wt as A,Y as j,Yt as ee,an as te,at as M,ct as N,dt as P,in as F,k as I,kt as L,l as R,mt as z,nt as B,ot as V,tt as H,vt as U,xt as W}from"./index-C-W2loPz.js";function G(e){return b(`MuiListItem`,e)}A(`MuiListItem`,[`root`,`container`,`dense`,`alignItemsFlexStart`,`divider`,`gutters`,`padding`,`secondaryAction`]);function ne(e){return b(`MuiListItemButton`,e)}var K=A(`MuiListItemButton`,[`root`,`focusVisible`,`dense`,`alignItemsFlexStart`,`disabled`,`divider`,`gutters`,`selected`]),q=te(F()),J=te(ee());const re=(e,t)=>{let{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems===`flex-start`&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]};var ie=e=>{let{alignItems:t,classes:n,dense:r,disabled:i,disableGutters:a,divider:o,selected:s}=e,c=O({root:[`root`,r&&`dense`,!a&&`gutters`,o&&`divider`,i&&`disabled`,t===`flex-start`&&`alignItemsFlexStart`,s&&`selected`]},ne,n);return{...n,...c}},Y=D(P,{shouldForwardProp:e=>y(e)||e===`classes`,name:`MuiListItemButton`,slot:`Root`,overridesResolver:re})(L(({theme:e})=>({display:`flex`,flexGrow:1,justifyContent:`flex-start`,alignItems:`center`,position:`relative`,textDecoration:`none`,minWidth:0,boxSizing:`border-box`,textAlign:`left`,paddingTop:8,paddingBottom:8,transition:e.transitions.create(`background-color`,{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:`none`,backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:`transparent`}},[`&.${K.selected}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),[`&.${K.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}},[`&.${K.selected}:hover`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity)}},[`&.${K.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${K.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},variants:[{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:`padding-box`}},{props:{alignItems:`flex-start`},style:{alignItems:`flex-start`}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.dense,style:{paddingTop:4,paddingBottom:4}}]}))),ae=q.forwardRef(function(e,t){let n=w({props:e,name:`MuiListItemButton`}),{alignItems:i=`center`,autoFocus:a=!1,component:o=`div`,children:s,dense:c=!1,disableGutters:u=!1,divider:d=!1,focusVisibleClassName:f,selected:p=!1,className:m,...h}=n,g=q.useContext(r),_=q.useMemo(()=>({dense:c||g.dense||!1,alignItems:i,disableGutters:u}),[i,g.dense,c,u]),v=q.useRef(null);l(()=>{a&&v.current&&v.current.focus()},[a]);let y={...n,alignItems:i,dense:_.dense,disableGutters:u,divider:d,selected:p},b=ie(y),x=W(v,t);return(0,J.jsx)(r.Provider,{value:_,children:(0,J.jsx)(Y,{ref:x,href:h.href||h.to,component:(h.href||h.to)&&o===`div`?`button`:o,focusVisibleClassName:S(b.focusVisible,f),ownerState:y,className:S(b.root,m),...h,classes:b,children:s})})});function oe(e){return b(`MuiListItemSecondaryAction`,e)}A(`MuiListItemSecondaryAction`,[`root`,`disableGutters`]);var se=e=>{let{disableGutters:t,classes:n}=e;return O({root:[`root`,t&&`disableGutters`]},oe,n)},ce=D(`div`,{name:`MuiListItemSecondaryAction`,slot:`Root`,overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})({position:`absolute`,right:16,top:`50%`,transform:`translateY(-50%)`,variants:[{props:({ownerState:e})=>e.disableGutters,style:{right:0}}]}),le=q.forwardRef(function(e,t){let n=w({props:e,name:`MuiListItemSecondaryAction`}),{className:i,...a}=n,o=q.useContext(r),s={...n,disableGutters:o.disableGutters};return(0,J.jsx)(ce,{className:S(se(s).root,i),ownerState:s,ref:t,...a})});le.muiName=`ListItemSecondaryAction`;var ue=le;const de=(e,t)=>{let{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems===`flex-start`&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.hasSecondaryAction&&t.secondaryAction]};var fe=e=>{let{alignItems:t,classes:n,dense:r,disableGutters:i,disablePadding:a,divider:o,hasSecondaryAction:s}=e;return O({root:[`root`,r&&`dense`,!i&&`gutters`,!a&&`padding`,o&&`divider`,t===`flex-start`&&`alignItemsFlexStart`,s&&`secondaryAction`],container:[`container`],secondaryAction:[`secondaryAction`]},G,n)};const pe=D(`div`,{name:`MuiListItem`,slot:`Root`,overridesResolver:de})(L(({theme:e})=>({display:`flex`,justifyContent:`flex-start`,alignItems:`center`,position:`relative`,textDecoration:`none`,width:`100%`,boxSizing:`border-box`,textAlign:`left`,variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${K.root}`]:{paddingRight:48}}},{props:{alignItems:`flex-start`},style:{alignItems:`flex-start`}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:`padding-box`}},{props:({ownerState:e})=>e.button,style:{transition:e.transitions.create(`background-color`,{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:`none`,backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:`transparent`}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]})));var me=D(`li`,{name:`MuiListItem`,slot:`Container`})({position:`relative`}),X=q.forwardRef(function(e,t){let n=w({props:e,name:`MuiListItem`}),{alignItems:i=`center`,children:a,className:s,component:c,components:l={},componentsProps:u={},ContainerComponent:d=`li`,ContainerProps:{className:f,...p}={},dense:m=!1,disableGutters:h=!1,disablePadding:g=!1,divider:_=!1,secondaryAction:v,slotProps:y={},slots:b={},...x}=n,C=q.useContext(r),T=q.useMemo(()=>({dense:m||C.dense||!1,alignItems:i,disableGutters:h}),[i,C.dense,m,h]),E=q.useRef(null),D=q.Children.toArray(a),O=D.length&&o(D[D.length-1],[`ListItemSecondaryAction`]),k={...n,alignItems:i,dense:T.dense,disableGutters:h,disablePadding:g,divider:_,hasSecondaryAction:O},A=fe(k),j=W(E,t),[ee,te]=z(`secondaryAction`,{elementType:ue,externalForwardedProps:{slots:b,slotProps:y},ownerState:k,className:A.secondaryAction}),M=b.root||l.Root||pe,N=y.root||u.root||{},P={className:S(A.root,N.className,s),...x},F=c||`li`;return O?(F=!P.component&&!c?`div`:F,d===`li`&&(F===`li`?F=`div`:P.component===`li`&&(P.component=`div`)),(0,J.jsx)(r.Provider,{value:T,children:(0,J.jsxs)(me,{as:d,className:S(A.container,f),ref:j,ownerState:k,...p,children:[(0,J.jsx)(M,{...N,...!U(M)&&{as:F,ownerState:{...k,...N.ownerState}},...P,children:D}),D.pop()]})})):(0,J.jsx)(r.Provider,{value:T,children:(0,J.jsxs)(M,{...N,as:F,ref:j,...!U(M)&&{ownerState:{...k,...N.ownerState}},...P,children:[D,v&&(0,J.jsx)(ee,{...te,children:v})]})})}),Z=e=>{let{classes:t,inset:n,primary:r,secondary:i,dense:a}=e;return O({root:[`root`,n&&`inset`,a&&`dense`,r&&i&&`multiline`],primary:[`primary`],secondary:[`secondary`]},f,t)},Q=D(`div`,{name:`MuiListItemText`,slot:`Root`,overridesResolver:(e,t)=>{let{ownerState:n}=e;return[{[`& .${p.primary}`]:t.primary},{[`& .${p.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})({flex:`1 1 auto`,minWidth:0,marginTop:4,marginBottom:4,[`.${V.root}:where(& .${p.primary})`]:{display:`block`},[`.${V.root}:where(& .${p.secondary})`]:{display:`block`},variants:[{props:({ownerState:e})=>e.primary&&e.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:56}}]}),he=q.forwardRef(function(e,t){let n=w({props:e,name:`MuiListItemText`}),{children:i,className:a,disableTypography:o=!1,inset:s=!1,primary:c,primaryTypographyProps:l,secondary:u,secondaryTypographyProps:d,slots:f={},slotProps:p={},...m}=n,{dense:h}=q.useContext(r),g=c??i,_=u,v={...n,disableTypography:o,inset:s,primary:!!g,secondary:!!_,dense:h},y=Z(v),b={slots:f,slotProps:{primary:l,secondary:d,...p}},[x,C]=z(`root`,{className:S(y.root,a),elementType:Q,externalForwardedProps:{...b,...m},ownerState:v,ref:t}),[T,E]=z(`primary`,{className:y.primary,elementType:M,externalForwardedProps:b,ownerState:v}),[D,O]=z(`secondary`,{className:y.secondary,elementType:M,externalForwardedProps:b,ownerState:v});return g!=null&&g.type!==M&&!o&&(g=(0,J.jsx)(T,{variant:h?`body2`:`body1`,component:E?.variant?void 0:`span`,...E,children:g})),_!=null&&_.type!==M&&!o&&(_=(0,J.jsx)(D,{variant:`body2`,color:`textSecondary`,...O,children:_})),(0,J.jsxs)(x,{...C,children:[g,_]})});function ge(e){return b(`MuiTab`,e)}var $=A(`MuiTab`,[`root`,`labelIcon`,`textColorInherit`,`textColorPrimary`,`textColorSecondary`,`selected`,`disabled`,`fullWidth`,`wrapped`,`iconWrapper`,`icon`]),_e=e=>{let{classes:t,textColor:n,fullWidth:r,wrapped:i,icon:a,label:o,selected:s,disabled:c}=e;return O({root:[`root`,a&&o&&`labelIcon`,`textColor${g(n)}`,r&&`fullWidth`,i&&`wrapped`,s&&`selected`,c&&`disabled`],icon:[`iconWrapper`,`icon`]},ge,t)},ve=D(P,{name:`MuiTab`,slot:`Root`,overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${g(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{[`& .${$.iconWrapper}`]:t.iconWrapper},{[`& .${$.icon}`]:t.icon}]}})(L(({theme:e})=>({...e.typography.button,maxWidth:360,minWidth:90,position:`relative`,minHeight:48,flexShrink:0,padding:`12px 16px`,overflow:`hidden`,whiteSpace:`normal`,textAlign:`center`,lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition===`top`||e.iconPosition===`bottom`),style:{flexDirection:`column`}},{props:({ownerState:e})=>e.label&&e.iconPosition!==`top`&&e.iconPosition!==`bottom`,style:{flexDirection:`row`}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:t})=>e.icon&&e.label&&t===`top`,style:{[`& > .${$.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:t})=>e.icon&&e.label&&t===`bottom`,style:{[`& > .${$.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:t})=>e.icon&&e.label&&t===`start`,style:{[`& > .${$.icon}`]:{marginRight:e.spacing(1)}}},{props:({ownerState:e,iconPosition:t})=>e.icon&&e.label&&t===`end`,style:{[`& > .${$.icon}`]:{marginLeft:e.spacing(1)}}},{props:{textColor:`inherit`},style:{color:`inherit`,opacity:.6,[`&.${$.selected}`]:{opacity:1},[`&.${$.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}}},{props:{textColor:`primary`},style:{color:(e.vars||e).palette.text.secondary,[`&.${$.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${$.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:{textColor:`secondary`},style:{color:(e.vars||e).palette.text.secondary,[`&.${$.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${$.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:`none`}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:e.typography.pxToRem(12)}}]}))),ye=q.forwardRef(function(e,t){let n=w({props:e,name:`MuiTab`}),{className:r,disabled:i=!1,disableFocusRipple:a=!1,fullWidth:o,icon:s,iconPosition:c=`top`,indicator:l,label:u,onChange:d,onClick:f,onFocus:p,selected:m,selectionFollowsFocus:h,textColor:g=`inherit`,value:_,wrapped:v=!1,...y}=n,b={...n,disabled:i,disableFocusRipple:a,selected:m,icon:!!s,iconPosition:c,label:!!u,fullWidth:o,textColor:g,wrapped:v},x=_e(b),C=s&&u&&q.isValidElement(s)?q.cloneElement(s,{className:S(x.icon,s.props.className)}):s,T=e=>{!m&&d&&d(e,_),f&&f(e)},E=e=>{h&&!m&&d&&d(e,_),p&&p(e)};return(0,J.jsxs)(ve,{focusRipple:!a,className:S(x.root,r),ref:t,role:`tab`,"aria-selected":m,disabled:i,onClick:T,onFocus:E,ownerState:b,tabIndex:m?0:-1,...y,children:[c===`top`||c===`start`?(0,J.jsxs)(q.Fragment,{children:[C,u]}):(0,J.jsxs)(q.Fragment,{children:[u,C]}),l]})}),be=E((0,J.jsx)(`path`,{d:`M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z`}),`KeyboardArrowLeft`),xe=E((0,J.jsx)(`path`,{d:`M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z`}),`KeyboardArrowRight`);function Se(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function Ce(e,t,n,r={},i=()=>{}){let{ease:a=Se,duration:o=300}=r,s=null,c=t[e],l=!1,u=()=>{l=!0},d=r=>{if(l){i(Error(`Animation cancelled`));return}s===null&&(s=r);let u=Math.min(1,(r-s)/o);if(t[e]=a(u)*(n-c)+c,u>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(d)};return c===n?(i(Error(`Element already at target position`)),u):(requestAnimationFrame(d),u)}var we={width:99,height:99,position:`absolute`,top:-9999,overflow:`scroll`};function Te(e){let{onChange:n,...r}=e,a=q.useRef(),o=q.useRef(null),s=()=>{a.current=o.current.offsetHeight-o.current.clientHeight};return l(()=>{let e=i(()=>{let e=a.current;s(),e!==a.current&&n(a.current)}),r=t(o.current);return r.addEventListener(`resize`,e),()=>{e.clear(),r.removeEventListener(`resize`,e)}},[n]),q.useEffect(()=>{s(),n(a.current)},[n]),(0,J.jsx)(`div`,{style:we,...r,ref:o})}function Ee(e){return b(`MuiTabScrollButton`,e)}var De=A(`MuiTabScrollButton`,[`root`,`vertical`,`horizontal`,`disabled`]),Oe=e=>{let{classes:t,orientation:n,disabled:r}=e;return O({root:[`root`,n,r&&`disabled`]},Ee,t)},ke=D(P,{name:`MuiTabScrollButton`,slot:`Root`,overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${De.disabled}`]:{opacity:0},variants:[{props:{orientation:`vertical`},style:{width:`100%`,height:40,"& svg":{transform:`var(--TabScrollButton-svgRotate)`}}}]}),Ae=q.forwardRef(function(e,t){let n=w({props:e,name:`MuiTabScrollButton`}),{className:r,slots:i={},slotProps:a={},direction:o,orientation:s,disabled:c,...l}=n,d=_(),f={isRtl:d,...n},p=Oe(f),m=i.StartScrollButtonIcon??be,h=i.EndScrollButtonIcon??xe,g=u({elementType:m,externalSlotProps:a.startScrollButtonIcon,additionalProps:{fontSize:`small`},ownerState:f}),v=u({elementType:h,externalSlotProps:a.endScrollButtonIcon,additionalProps:{fontSize:`small`},ownerState:f});return(0,J.jsx)(ke,{component:`div`,className:S(p.root,r),ref:t,role:null,ownerState:f,tabIndex:null,...l,style:{...l.style,...s===`vertical`&&{"--TabScrollButton-svgRotate":`rotate(${d?-90:90}deg)`}},children:o===`left`?(0,J.jsx)(m,{...g}):(0,J.jsx)(h,{...v})})});function je(e){return b(`MuiTabs`,e)}var Me=A(`MuiTabs`,[`root`,`vertical`,`list`,`flexContainer`,`flexContainerVertical`,`centered`,`scroller`,`fixed`,`scrollableX`,`scrollableY`,`hideScrollbar`,`scrollButtons`,`scrollButtonsHideMobile`,`indicator`]),Ne=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,Pe=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,Fe=(e,t,n)=>{let r=!1,i=n(e,t);for(;i;){if(i===e.firstChild){if(r)return;r=!0}let t=i.disabled||i.getAttribute(`aria-disabled`)===`true`;if(!i.hasAttribute(`tabindex`)||t)i=n(e,i);else{i.focus();return}}},Ie=e=>{let{vertical:t,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:a,centered:o,scrollButtonsHideMobile:s,classes:c}=e;return O({root:[`root`,t&&`vertical`],scroller:[`scroller`,n&&`fixed`,r&&`hideScrollbar`,i&&`scrollableX`,a&&`scrollableY`],list:[`list`,`flexContainer`,t&&`flexContainerVertical`,t&&`vertical`,o&&`centered`],indicator:[`indicator`],scrollButtons:[`scrollButtons`,s&&`scrollButtonsHideMobile`],scrollableX:[i&&`scrollableX`],hideScrollbar:[r&&`hideScrollbar`]},je,c)},Le=D(`div`,{name:`MuiTabs`,slot:`Root`,overridesResolver:(e,t)=>{let{ownerState:n}=e;return[{[`& .${Me.scrollButtons}`]:t.scrollButtons},{[`& .${Me.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})(L(({theme:e})=>({overflow:`hidden`,minHeight:48,WebkitOverflowScrolling:`touch`,display:`flex`,variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:`column`}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${Me.scrollButtons}`]:{[e.breakpoints.down(`sm`)]:{display:`none`}}}}]}))),Re=D(`div`,{name:`MuiTabs`,slot:`Scroller`,overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})({position:`relative`,display:`inline-block`,flex:`1 1 auto`,whiteSpace:`nowrap`,variants:[{props:({ownerState:e})=>e.fixed,style:{overflowX:`hidden`,width:`100%`}},{props:({ownerState:e})=>e.hideScrollbar,style:{scrollbarWidth:`none`,"&::-webkit-scrollbar":{display:`none`}}},{props:({ownerState:e})=>e.scrollableX,style:{overflowX:`auto`,overflowY:`hidden`}},{props:({ownerState:e})=>e.scrollableY,style:{overflowY:`auto`,overflowX:`hidden`}}]}),ze=D(`div`,{name:`MuiTabs`,slot:`List`,overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.list,t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})({display:`flex`,variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:`column`}},{props:({ownerState:e})=>e.centered,style:{justifyContent:`center`}}]}),Be=D(`span`,{name:`MuiTabs`,slot:`Indicator`})(L(({theme:e})=>({position:`absolute`,height:2,bottom:0,width:`100%`,transition:e.transitions.create(),variants:[{props:{indicatorColor:`primary`},style:{backgroundColor:(e.vars||e).palette.primary.main}},{props:{indicatorColor:`secondary`},style:{backgroundColor:(e.vars||e).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:`100%`,width:2,right:0}}]}))),Ve=D(Te)({overflowX:`auto`,overflowY:`hidden`,scrollbarWidth:`none`,"&::-webkit-scrollbar":{display:`none`}}),He={},Ue=q.forwardRef(function(e,r){let a=w({props:e,name:`MuiTabs`}),o=C(),s=_(),{"aria-label":c,"aria-labelledby":l,action:d,centered:f=!1,children:p,className:m,component:g=`div`,allowScrollButtonsMobile:y=!1,indicatorColor:b=`primary`,onChange:x,orientation:T=`horizontal`,ScrollButtonComponent:E,scrollButtons:D=`auto`,selectionFollowsFocus:O,slots:k={},slotProps:A={},TabIndicatorProps:j={},TabScrollButtonProps:ee={},textColor:te=`primary`,value:M,variant:N=`standard`,visibleScrollbar:P=!1,...F}=a,I=N===`scrollable`,L=T===`vertical`,R=L?`scrollTop`:`scrollLeft`,B=L?`top`:`left`,V=L?`bottom`:`right`,H=L?`clientHeight`:`clientWidth`,U=L?`height`:`width`,W={...a,component:g,allowScrollButtonsMobile:y,indicatorColor:b,orientation:T,vertical:L,scrollButtons:D,textColor:te,variant:N,visibleScrollbar:P,fixed:!I,hideScrollbar:I&&!P,scrollableX:I&&!L,scrollableY:I&&L,centered:f&&!I,scrollButtonsHideMobile:!y},G=Ie(W),ne=u({elementType:k.StartScrollButtonIcon,externalSlotProps:A.startScrollButtonIcon,ownerState:W}),K=u({elementType:k.EndScrollButtonIcon,externalSlotProps:A.endScrollButtonIcon,ownerState:W}),[re,ie]=q.useState(!1),[Y,ae]=q.useState(He),[oe,se]=q.useState(!1),[ce,le]=q.useState(!1),[ue,de]=q.useState(!1),[fe,pe]=q.useState({overflow:`hidden`,scrollbarWidth:0}),me=new Map,X=q.useRef(null),Z=q.useRef(null),Q={slots:k,slotProps:{indicator:j,scrollButton:ee,...A}},he=()=>{let e=X.current,t;if(e){let n=e.getBoundingClientRect();t={clientWidth:e.clientWidth,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,scrollWidth:e.scrollWidth,top:n.top,bottom:n.bottom,left:n.left,right:n.right}}let n;if(e&&M!==!1){let e=Z.current.children;if(e.length>0){let t=e[me.get(M)];n=t?t.getBoundingClientRect():null}}return{tabsMeta:t,tabMeta:n}},ge=v(()=>{let{tabsMeta:e,tabMeta:t}=he(),n=0,r;L?(r=`top`,t&&e&&(n=t.top-e.top+e.scrollTop)):(r=s?`right`:`left`,t&&e&&(n=(s?-1:1)*(t[r]-e[r]+e.scrollLeft)));let i={[r]:n,[U]:t?t[U]:0};if(typeof Y[r]!=`number`||typeof Y[U]!=`number`)ae(i);else{let e=Math.abs(Y[r]-i[r]),t=Math.abs(Y[U]-i[U]);(e>=1||t>=1)&&ae(i)}}),$=(e,{animation:t=!0}={})=>{t?Ce(R,X.current,e,{duration:o.transitions.duration.standard}):X.current[R]=e},_e=e=>{let t=X.current[R];L?t+=e:t+=e*(s?-1:1),$(t)},ve=()=>{let e=X.current[H],t=0,n=Array.from(Z.current.children);for(let r=0;r<n.length;r+=1){let i=n[r];if(t+i[H]>e){r===0&&(t=e);break}t+=i[H]}return t},ye=()=>{_e(-1*ve())},be=()=>{_e(ve())},[xe,{onChange:Se,...we}]=z(`scrollbar`,{className:S(G.scrollableX,G.hideScrollbar),elementType:Ve,shouldForwardComponentProp:!0,externalForwardedProps:Q,ownerState:W}),Te=q.useCallback(e=>{Se?.(e),pe({overflow:null,scrollbarWidth:e})},[Se]),[Ee,De]=z(`scrollButtons`,{className:S(G.scrollButtons,ee.className),elementType:Ae,externalForwardedProps:Q,ownerState:W,additionalProps:{orientation:T,slots:{StartScrollButtonIcon:k.startScrollButtonIcon||k.StartScrollButtonIcon,EndScrollButtonIcon:k.endScrollButtonIcon||k.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:ne,endScrollButtonIcon:K}}}),Oe=()=>{let e={};e.scrollbarSizeListener=I?(0,J.jsx)(xe,{...we,onChange:Te}):null;let t=I&&(D===`auto`&&(oe||ce)||D===!0);return e.scrollButtonStart=t?(0,J.jsx)(Ee,{direction:s?`right`:`left`,onClick:ye,disabled:!oe,...De}):null,e.scrollButtonEnd=t?(0,J.jsx)(Ee,{direction:s?`left`:`right`,onClick:be,disabled:!ce,...De}):null,e},ke=v(e=>{let{tabsMeta:t,tabMeta:n}=he();!n||!t||(n[B]<t[B]?$(t[R]+(n[B]-t[B]),{animation:e}):n[V]>t[V]&&$(t[R]+(n[V]-t[V]),{animation:e}))}),je=v(()=>{I&&D!==!1&&de(!ue)});q.useEffect(()=>{let e=i(()=>{X.current&&ge()}),n,r=t=>{t.forEach(e=>{e.removedNodes.forEach(e=>{n?.unobserve(e)}),e.addedNodes.forEach(e=>{n?.observe(e)})}),e(),je()},a=t(X.current);a.addEventListener(`resize`,e);let o;return typeof ResizeObserver<`u`&&(n=new ResizeObserver(e),Array.from(Z.current.children).forEach(e=>{n.observe(e)})),typeof MutationObserver<`u`&&(o=new MutationObserver(r),o.observe(Z.current,{childList:!0})),()=>{e.clear(),a.removeEventListener(`resize`,e),o?.disconnect(),n?.disconnect()}},[ge,je]),q.useEffect(()=>{let e=Array.from(Z.current.children),t=e.length;if(typeof IntersectionObserver<`u`&&t>0&&I&&D!==!1){let n=e[0],r=e[t-1],i={root:X.current,threshold:.99},a=new IntersectionObserver(e=>{se(!e[0].isIntersecting)},i);a.observe(n);let o=new IntersectionObserver(e=>{le(!e[0].isIntersecting)},i);return o.observe(r),()=>{a.disconnect(),o.disconnect()}}},[I,D,ue,p?.length]),q.useEffect(()=>{ie(!0)},[]),q.useEffect(()=>{ge()}),q.useEffect(()=>{ke(He!==Y)},[ke,Y]),q.useImperativeHandle(d,()=>({updateIndicator:ge,updateScrollButtons:je}),[ge,je]);let[Me,Ue]=z(`indicator`,{className:S(G.indicator,j.className),elementType:Be,externalForwardedProps:Q,ownerState:W,additionalProps:{style:Y}}),We=(0,J.jsx)(Me,{...Ue}),Ge=0,Ke=q.Children.map(p,e=>{if(!q.isValidElement(e))return null;let t=e.props.value===void 0?Ge:e.props.value;me.set(t,Ge);let n=t===M;return Ge+=1,q.cloneElement(e,{fullWidth:N===`fullWidth`,indicator:n&&!re&&We,selected:n,selectionFollowsFocus:O,onChange:x,textColor:te,value:t,...Ge===1&&M===!1&&!e.props.tabIndex?{tabIndex:0}:{}})}),qe=e=>{if(e.altKey||e.shiftKey||e.ctrlKey||e.metaKey)return;let t=Z.current,r=h(n(t));if(r?.getAttribute(`role`)!==`tab`)return;let i=T===`horizontal`?`ArrowLeft`:`ArrowUp`,a=T===`horizontal`?`ArrowRight`:`ArrowDown`;switch(T===`horizontal`&&s&&(i=`ArrowRight`,a=`ArrowLeft`),e.key){case i:e.preventDefault(),Fe(t,r,Pe);break;case a:e.preventDefault(),Fe(t,r,Ne);break;case`Home`:e.preventDefault(),Fe(t,null,Ne);break;case`End`:e.preventDefault(),Fe(t,null,Pe);break;default:break}},Je=Oe(),[Ye,Xe]=z(`root`,{ref:r,className:S(G.root,m),elementType:Le,externalForwardedProps:{...Q,...F,component:g},ownerState:W}),[Ze,Qe]=z(`scroller`,{ref:X,className:G.scroller,elementType:Re,externalForwardedProps:Q,ownerState:W,additionalProps:{style:{overflow:fe.overflow,[L?`margin${s?`Left`:`Right`}`:`marginBottom`]:P?void 0:-fe.scrollbarWidth}}}),[$e,et]=z(`list`,{ref:Z,className:S(G.list,G.flexContainer),elementType:ze,externalForwardedProps:Q,ownerState:W,getSlotProps:e=>({...e,onKeyDown:t=>{qe(t),e.onKeyDown?.(t)}})});return(0,J.jsxs)(Ye,{...Xe,children:[Je.scrollButtonStart,Je.scrollbarSizeListener,(0,J.jsxs)(Ze,{...Qe,children:[(0,J.jsx)($e,{"aria-label":c,"aria-labelledby":l,"aria-orientation":T===`vertical`?`vertical`:null,role:`tablist`,...et,children:Ke}),re&&We]}),Je.scrollButtonEnd]})}),We=E((0,J.jsx)(`path`,{d:`M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14`}),`Search`);function Ge({tag:t,currentTrackId:n,isNumeric:r}){let[i,o]=(0,q.useState)([]),[s,l]=(0,q.useState)(!1),[u,f]=(0,q.useState)(null),[p,h]=(0,q.useState)(``),[g,_]=(0,q.useState)(`title`),[v,y]=(0,q.useState)(0),b=(0,q.useCallback)(async()=>{try{if(l(!0),f(null),y(0),r){let e=await R({tagKey:t.key,limit:500}),r=parseFloat(t.value);o(e.files.filter(e=>e.id!==n).map(e=>{let n=e.tags?.find(e=>e.key===t.key),i=n?parseFloat(n.value):null;return{track:e,value:i,diff:i===null?1/0:Math.abs(i-r)}}).filter(e=>e.value!==null).sort((e,t)=>{if(e.diff!==t.diff)return e.diff-t.diff;let n=(e.track.title||``).localeCompare(t.track.title||``);if(n!==0)return n;let r=(e.track.artist||``).localeCompare(t.track.artist||``);return r===0?e.track.id.localeCompare(t.track.id):r}))}else o((await R({tagKey:t.key,tagValue:t.value,limit:500})).files.filter(e=>e.id!==n).map(e=>({track:e,diff:0})))}catch(e){f(e instanceof Error?e.message:`Failed to load similar tracks`),console.error(`[SimilarTracks] Load error:`,e)}finally{l(!1)}},[t.key,t.value,n,r]);(0,q.useEffect)(()=>{b()},[b]);let x=e=>!e||e<=0?`-`:`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,`0`)}`,S=e=>e.tags?.find(e=>e.key===t.key)?.value||null,{paginatedTracks:C,totalFiltered:w,totalPages:T}=(0,q.useMemo)(()=>{let e=i;if(p.trim()){let t=p.toLowerCase();e=e.filter(({track:e})=>e.title?.toLowerCase().includes(t)||e.artist?.toLowerCase().includes(t)||e.album?.toLowerCase().includes(t))}r||(e=[...e].sort((e,t)=>{switch(g){case`title`:return(e.track.title||``).localeCompare(t.track.title||``);case`artist`:return(e.track.artist||``).localeCompare(t.track.artist||``);case`album`:return(e.track.album||``).localeCompare(t.track.album||``);default:return 0}}));let t=e.length,n=Math.ceil(t/25),a=v*25;return{paginatedTracks:e.slice(a,a+25).map(e=>e.track),totalFiltered:t,totalPages:n}},[i,p,r,g,v]);return(0,q.useEffect)(()=>{y(0)},[p]),(0,J.jsxs)(B,{children:[(0,J.jsxs)(M,{variant:`subtitle2`,gutterBottom:!0,children:[`Similar tracks with `,t.key,r?` (by distance to ${t.value})`:` = "${t.value}"`]}),i.length>0&&(0,J.jsxs)(B,{sx:{mb:2},children:[(0,J.jsxs)(e,{direction:`row`,spacing:1,children:[(0,J.jsx)(c,{placeholder:`Filter similar tracks...`,value:p,onChange:e=>h(e.target.value),size:`small`,fullWidth:!0,InputProps:{endAdornment:(0,J.jsx)(N,{size:`small`,edge:`end`,children:(0,J.jsx)(We,{fontSize:`small`})})}}),!r&&(0,J.jsxs)(a,{value:g,onChange:e=>_(e.target.value),size:`small`,sx:{minWidth:130},children:[(0,J.jsx)(m,{value:`title`,children:`Sort by Title`}),(0,J.jsx)(m,{value:`artist`,children:`Sort by Artist`}),(0,J.jsx)(m,{value:`album`,children:`Sort by Album`})]})]}),(0,J.jsxs)(M,{variant:`caption`,color:`text.secondary`,sx:{mt:.5,display:`block`},children:[`Showing `,C.length,` of `,w,` matches`,w!==i.length&&` (${i.length} total)`]})]}),s&&(0,J.jsx)(M,{variant:`body2`,color:`text.secondary`,children:`Loading...`}),u&&(0,J.jsx)(k,{children:u}),!s&&i.length===0&&(0,J.jsx)(M,{variant:`body2`,color:`text.secondary`,children:`No similar tracks found.`}),!s&&i.length>0&&C.length===0&&(0,J.jsxs)(M,{variant:`body2`,color:`text.secondary`,children:[`No tracks matching "`,p,`".`]}),!s&&i.length>0&&C.length>0&&(0,J.jsx)(e,{spacing:1,sx:{mt:2},children:C.map(t=>{let n=S(t);return(0,J.jsx)(B,{sx:{p:1.5,bgcolor:`background.default`,border:1,borderColor:`divider`,borderRadius:1},children:(0,J.jsxs)(e,{direction:`row`,justifyContent:`space-between`,alignItems:`center`,spacing:2,children:[(0,J.jsxs)(B,{sx:{flex:1,minWidth:0},children:[(0,J.jsx)(M,{variant:`body2`,sx:{fontWeight:500},noWrap:!0,children:t.title||`Unknown Title`}),(0,J.jsxs)(M,{variant:`caption`,color:`text.secondary`,noWrap:!0,children:[t.artist&&(0,J.jsx)(`span`,{children:t.artist}),t.album&&(0,J.jsxs)(`span`,{children:[` • `,t.album]}),t.tags?.find(e=>e.key===`genre`)&&(0,J.jsxs)(`span`,{children:[` `,`•`,` `,t.tags.find(e=>e.key===`genre`)?.value]})]})]}),(0,J.jsxs)(e,{direction:`row`,spacing:1,alignItems:`center`,children:[r&&n&&(0,J.jsx)(d,{label:n,size:`small`,sx:{fontSize:`0.7rem`}}),(0,J.jsx)(M,{variant:`caption`,color:`text.disabled`,sx:{minWidth:40,textAlign:`right`},children:x(t.duration_seconds)})]})]})},t.id)})}),T>1&&(0,J.jsxs)(e,{direction:`row`,justifyContent:`center`,alignItems:`center`,spacing:2,sx:{mt:2},children:[(0,J.jsx)(H,{size:`small`,variant:`outlined`,onClick:()=>y(Math.max(0,v-1)),disabled:v===0,children:`Previous`}),(0,J.jsxs)(M,{variant:`body2`,color:`text.secondary`,children:[`Page `,v+1,` of `,T]}),(0,J.jsx)(H,{size:`small`,variant:`outlined`,onClick:()=>y(Math.min(T-1,v+1)),disabled:v>=T-1,children:`Next`})]})]})}function Ke({track:t}){let[n,r]=(0,q.useState)(null),[i,o]=(0,q.useState)(``),[l,u]=(0,q.useState)(`key`),f=t.tags||[],p=f.filter(e=>e.is_nomarr),h=f.filter(e=>!e.is_nomarr),g=(0,q.useMemo)(()=>{let e=p;if(i.trim()){let t=i.toLowerCase();e=e.filter(e=>e.key.toLowerCase().includes(t)||e.value.toLowerCase().includes(t))}return[...e].sort((e,t)=>l===`key`?e.key.localeCompare(t.key):e.value.localeCompare(t.value))},[p,i,l]),_=(0,q.useMemo)(()=>{let e=h;if(i.trim()){let t=i.toLowerCase();e=e.filter(e=>e.key.toLowerCase().includes(t)||e.value.toLowerCase().includes(t))}return[...e].sort((e,t)=>l===`key`?e.key.localeCompare(t.key):e.value.localeCompare(t.value))},[h,i,l]),v=e=>{r(n?.key===e.key?null:e)},y=e=>e.type===`float`||!isNaN(parseFloat(e.value));return(0,J.jsxs)(B,{children:[(0,J.jsxs)(B,{sx:{mb:2},children:[(0,J.jsx)(M,{variant:`body2`,fontWeight:`bold`,component:`span`,children:`Path:`}),(0,J.jsx)(M,{variant:`body2`,color:`text.secondary`,sx:{mt:.5,fontFamily:`monospace`,wordBreak:`break-all`},children:t.path})]}),f.length>0&&(0,J.jsxs)(e,{direction:`row`,spacing:1,sx:{mb:2},children:[(0,J.jsx)(c,{placeholder:`Filter tags...`,value:i,onChange:e=>o(e.target.value),size:`small`,fullWidth:!0}),(0,J.jsxs)(a,{value:l,onChange:e=>u(e.target.value),size:`small`,sx:{minWidth:130},children:[(0,J.jsx)(m,{value:`key`,children:`Sort by Key`}),(0,J.jsx)(m,{value:`value`,children:`Sort by Value`})]})]}),f.length>0&&(0,J.jsxs)(e,{direction:`row`,spacing:1,sx:{mb:2},children:[(0,J.jsx)(c,{placeholder:`Filter tags...`,value:i,onChange:e=>o(e.target.value),size:`small`,fullWidth:!0}),(0,J.jsxs)(a,{value:l,onChange:e=>u(e.target.value),size:`small`,sx:{minWidth:130},children:[(0,J.jsx)(m,{value:`key`,children:`Sort by Key`}),(0,J.jsx)(m,{value:`value`,children:`Sort by Value`})]})]}),f.length===0&&(0,J.jsx)(M,{variant:`body2`,color:`text.secondary`,children:`No tags available for this track.`}),g.length>0&&(0,J.jsxs)(B,{sx:{mb:2},children:[(0,J.jsx)(M,{variant:`subtitle2`,gutterBottom:!0,children:`Nomarr Tags (Click to explore similar)`}),(0,J.jsx)(s,{dense:!0,children:g.map(t=>(0,J.jsx)(X,{onClick:()=>v(t),sx:{cursor:`pointer`,borderRadius:1,"&:hover":{bgcolor:`action.hover`},bgcolor:n?.key===t.key?`action.selected`:`transparent`},children:(0,J.jsx)(he,{primary:(0,J.jsxs)(e,{direction:`row`,spacing:1,alignItems:`center`,children:[(0,J.jsxs)(M,{variant:`body2`,component:`span`,sx:{fontWeight:500},children:[t.key,`:`]}),(0,J.jsx)(M,{variant:`body2`,component:`span`,children:t.value}),y(t)&&(0,J.jsx)(d,{label:`numeric`,size:`small`,sx:{height:18,fontSize:`0.65rem`}})]})})},t.key))})]}),_.length>0&&(0,J.jsxs)(B,{sx:{mb:2},children:[(0,J.jsx)(M,{variant:`subtitle2`,gutterBottom:!0,children:`Other Tags`}),(0,J.jsx)(s,{dense:!0,children:_.map(e=>(0,J.jsx)(X,{sx:{pl:0},children:(0,J.jsx)(he,{primary:(0,J.jsxs)(M,{variant:`body2`,children:[(0,J.jsxs)(M,{component:`span`,sx:{fontWeight:500,color:`text.secondary`},children:[e.key,`:`]}),` `,e.value]})})},e.key))})]}),n&&(0,J.jsx)(j,{sx:{mt:2},children:(0,J.jsx)(Ge,{tag:n,currentTrackId:t.id,isNumeric:y(n)})})]})}function qe({entityId:t,entityName:n,collection:r,relationType:i}){let[o,s]=(0,q.useState)([]),[l,u]=(0,q.useState)(!1),[f,p]=(0,q.useState)(null),[h,g]=(0,q.useState)(null),[_,v]=(0,q.useState)(``),[y,b]=(0,q.useState)(`title`),x=(0,q.useCallback)(async()=>{try{u(!0),p(null);let e=await I(r,t,i,{limit:500});if(e.song_ids.length===0){s([]);return}let n=await R({limit:500}),a=new Map(n.files.map(e=>[e.id,e]));s(e.song_ids.map(e=>a.get(e)).filter(e=>e!==void 0))}catch(e){p(e instanceof Error?e.message:`Failed to load tracks`),console.error(`[TrackList] Load error:`,e)}finally{u(!1)}},[t,r,i]);(0,q.useEffect)(()=>{x()},[x]);let S=(0,q.useMemo)(()=>{let e=o;if(_.trim()){let t=_.toLowerCase();e=e.filter(e=>e.title?.toLowerCase().includes(t)||e.artist?.toLowerCase().includes(t)||e.album?.toLowerCase().includes(t))}return[...e].sort((e,t)=>{switch(y){case`title`:return(e.title||``).localeCompare(t.title||``);case`artist`:return(e.artist||``).localeCompare(t.artist||``);case`album`:return(e.album||``).localeCompare(t.album||``);case`duration`:return(e.duration_seconds||0)-(t.duration_seconds||0);default:return 0}})},[o,_,y]),C=e=>{g(h===e?null:e)},w=e=>!e||e<=0?`-`:`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,`0`)}`;return(0,J.jsxs)(B,{children:[(0,J.jsxs)(j,{sx:{mb:2},children:[(0,J.jsx)(M,{variant:`h6`,gutterBottom:!0,children:n}),(0,J.jsxs)(M,{variant:`body2`,color:`text.secondary`,sx:{mb:1.5},children:[l?`Loading tracks...`:`${o.length} track${o.length===1?``:`s`}`,_&&` (${S.length} matching)`]}),(0,J.jsxs)(e,{direction:`row`,spacing:1,children:[(0,J.jsx)(c,{placeholder:`Filter tracks by title, artist, or album...`,value:_,onChange:e=>v(e.target.value),size:`small`,fullWidth:!0,InputProps:{endAdornment:(0,J.jsx)(N,{size:`small`,edge:`end`,children:(0,J.jsx)(We,{fontSize:`small`})})}}),(0,J.jsxs)(a,{value:y,onChange:e=>b(e.target.value),size:`small`,sx:{minWidth:150},children:[(0,J.jsx)(m,{value:`title`,children:`Sort by Title`}),(0,J.jsx)(m,{value:`artist`,children:`Sort by Artist`}),(0,J.jsx)(m,{value:`album`,children:`Sort by Album`}),(0,J.jsx)(m,{value:`duration`,children:`Sort by Duration`})]})]})]}),f&&(0,J.jsx)(k,{children:f}),!l&&S.length===0&&(0,J.jsx)(j,{children:(0,J.jsx)(M,{color:`text.secondary`,textAlign:`center`,children:_?`No tracks matching "${_}".`:`No tracks found for this ${r.slice(0,-1)}.`})}),(0,J.jsx)(e,{spacing:1,children:S.map((e,t)=>(0,J.jsxs)(B,{sx:{bgcolor:`background.paper`,border:1,borderColor:`divider`,borderRadius:1,overflow:`hidden`},children:[(0,J.jsxs)(B,{onClick:()=>C(e.id),sx:{display:`flex`,justifyContent:`space-between`,alignItems:`center`,p:1.5,cursor:`pointer`,"&:hover":{bgcolor:`action.hover`}},children:[(0,J.jsxs)(B,{sx:{flex:1,display:`flex`,alignItems:`center`,gap:2},children:[(0,J.jsx)(M,{variant:`body2`,color:`text.disabled`,sx:{minWidth:30,textAlign:`right`},children:t+1}),(0,J.jsxs)(B,{sx:{flex:1},children:[(0,J.jsx)(M,{variant:`body1`,sx:{fontWeight:500},children:e.title||`Unknown Title`}),(0,J.jsxs)(M,{variant:`body2`,color:`text.secondary`,children:[e.artist&&(0,J.jsx)(`span`,{children:e.artist}),e.album&&(0,J.jsxs)(`span`,{children:[` • `,e.album]})]})]}),(0,J.jsx)(M,{variant:`body2`,color:`text.disabled`,children:w(e.duration_seconds)}),e.tagged&&(0,J.jsx)(d,{label:`${e.tags?.length||0} tags`,size:`small`,color:`primary`})]}),(0,J.jsx)(M,{color:`text.disabled`,sx:{ml:1},children:h===e.id?`▼`:`▶`})]}),h===e.id&&(0,J.jsx)(B,{sx:{p:2,borderTop:1,borderColor:`divider`,bgcolor:`background.default`},children:(0,J.jsx)(Ke,{track:e})})]},e.id))})]})}function Je({collection:t}){let[n,r]=(0,q.useState)([]),[i,o]=(0,q.useState)(0),[l,u]=(0,q.useState)(!1),[d,f]=(0,q.useState)(null),[p,h]=(0,q.useState)(``),[g,_]=(0,q.useState)(null),[v,y]=(0,q.useState)(0),[b,x]=(0,q.useState)(`name`),S=(0,q.useCallback)(async()=>{try{u(!0),f(null);let e=await T(t,{limit:100,offset:v,search:p||void 0});r([...e.entities].sort((e,t)=>b===`name`?e.display_name.localeCompare(t.display_name):(t.song_count||0)-(e.song_count||0))),o(e.total)}catch(e){f(e instanceof Error?e.message:`Failed to load entities`),console.error(`[EntityBrowser] Load error:`,e)}finally{u(!1)}},[t,v,p,b]);(0,q.useEffect)(()=>{y(0),_(null),h(``)},[t]),(0,q.useEffect)(()=>{S()},[S]);let C=()=>{y(0),_(null),S()},w=e=>{_(e)},E=()=>{y(Math.max(0,v-100))},D=()=>{v+100<i&&y(v+100)},O=Math.floor(v/100)+1,A=Math.ceil(i/100);return(0,J.jsxs)(B,{sx:{display:`flex`,gap:2,height:`calc(100vh - 250px)`},children:[(0,J.jsxs)(B,{sx:{width:350,display:`flex`,flexDirection:`column`},children:[(0,J.jsxs)(j,{sx:{mb:2},children:[(0,J.jsxs)(e,{direction:`row`,spacing:1,sx:{mb:1},children:[(0,J.jsx)(c,{placeholder:`Search ${t}...`,value:p,onChange:e=>h(e.target.value),onKeyDown:e=>e.key===`Enter`&&C(),size:`small`,fullWidth:!0}),(0,J.jsx)(H,{variant:`contained`,onClick:C,sx:{minWidth:`auto`},children:(0,J.jsx)(We,{})})]}),(0,J.jsxs)(a,{value:b,onChange:e=>x(e.target.value),size:`small`,fullWidth:!0,children:[(0,J.jsx)(m,{value:`name`,children:`Sort by Name`}),(0,J.jsx)(m,{value:`count`,children:`Sort by Song Count`})]}),(0,J.jsxs)(M,{variant:`body2`,color:`text.secondary`,sx:{mt:1},children:[l?`Loading...`:`${i.toLocaleString()} total`,i>100&&` (Page ${O} of ${A})`]})]}),d&&(0,J.jsx)(k,{children:d}),(0,J.jsxs)(j,{sx:{flex:1,overflow:`auto`,p:0},children:[n.length===0&&!l&&(0,J.jsx)(B,{sx:{p:2,textAlign:`center`},children:(0,J.jsxs)(M,{color:`text.secondary`,children:[`No `,t,` found.`]})}),(0,J.jsx)(s,{dense:!0,children:n.map(e=>(0,J.jsx)(ae,{selected:g?.id===e.id,onClick:()=>w(e),children:(0,J.jsx)(he,{primary:e.display_name,secondary:e.song_count===void 0?void 0:`${e.song_count} songs`})},e.id))})]}),i>100&&(0,J.jsxs)(B,{sx:{mt:1,display:`flex`,justifyContent:`center`,gap:1},children:[(0,J.jsx)(H,{size:`small`,onClick:E,disabled:v===0,children:`Previous`}),(0,J.jsx)(H,{size:`small`,onClick:D,disabled:v+100>=i,children:`Next`})]})]}),(0,J.jsx)(B,{sx:{flex:1},children:g?(0,J.jsx)(qe,{entityId:g.id,entityName:g.display_name,collection:t,relationType:(()=>{switch(t){case`artists`:return`artist`;case`albums`:return`album`;case`genres`:return`genres`;case`years`:return`year`;default:return t}})()}):(0,J.jsx)(j,{children:(0,J.jsxs)(M,{color:`text.secondary`,textAlign:`center`,children:[`Select `,t===`artists`?`an`:`a`,` `,t.slice(0,-1),` to view tracks`]})})})]})}function Ye(){let[e,t]=(0,q.useState)(`artists`);return(0,J.jsxs)(x,{title:`Browse Music`,children:[(0,J.jsx)(B,{sx:{borderBottom:1,borderColor:`divider`,mb:2},children:(0,J.jsxs)(Ue,{value:e,onChange:(e,n)=>t(n),children:[(0,J.jsx)(ye,{label:`Artists`,value:`artists`}),(0,J.jsx)(ye,{label:`Albums`,value:`albums`}),(0,J.jsx)(ye,{label:`Genres`,value:`genres`}),(0,J.jsx)(ye,{label:`Years`,value:`years`})]})}),(0,J.jsx)(Je,{collection:e})]})}export{Ye as BrowsePage};