import{$ as e,Dt as t,Et as n,_ as r,_t as i,a,v as o}from"./index-DYVoQaaX.js";async function s(e){let t=await a(`/api/web/auth/login`,{password:e});if(!t.session_token)throw Error(`Login response missing session token`);o(t.session_token)}var c=t(n(),1),l=t(i(),1);function u(){let[t,n]=c.useState(``),[i,a]=c.useState(``),[o,u]=c.useState(!1),d=e();return c.useEffect(()=>{r()&&d(`/`,{replace:!0})},[d]),(0,l.jsx)(`div`,{style:{display:`flex`,justifyContent:`center`,alignItems:`center`,minHeight:`100vh`,backgroundColor:`#1a1a1a`},children:(0,l.jsxs)(`div`,{style:{backgroundColor:`#2a2a2a`,padding:`2rem`,borderRadius:`8px`,boxShadow:`0 2px 8px rgba(0,0,0,0.1)`,width:`100%`,maxWidth:`400px`},children:[(0,l.jsx)(`h1`,{style:{marginBottom:`1.5rem`,textAlign:`center`,color:`#fff`},children:`Nomarr Login`}),(0,l.jsxs)(`form`,{onSubmit:async e=>{e.preventDefault(),a(``),u(!0);try{await s(t),d(`/`,{replace:!0})}catch(e){a(e instanceof Error?e.message:`Login failed`)}finally{u(!1)}},children:[(0,l.jsxs)(`div`,{style:{marginBottom:`1rem`},children:[(0,l.jsx)(`label`,{htmlFor:`password`,style:{display:`block`,marginBottom:`0.5rem`,color:`#ccc`},children:`Password`}),(0,l.jsx)(`input`,{id:`password`,type:`password`,value:t,onChange:e=>n(e.target.value),disabled:o,required:!0,style:{width:`100%`,padding:`0.5rem`,border:`1px solid #444`,borderRadius:`4px`,fontSize:`1rem`,backgroundColor:`#333`,color:`#fff`}})]}),i&&(0,l.jsx)(`div`,{style:{marginBottom:`1rem`,padding:`0.75rem`,backgroundColor:`#fee`,border:`1px solid #fcc`,borderRadius:`4px`,color:`#c33`},children:i}),(0,l.jsx)(`button`,{type:`submit`,disabled:o,style:{width:`100%`,padding:`0.75rem`,backgroundColor:o?`#ccc`:`#007bff`,color:`white`,border:`none`,borderRadius:`4px`,fontSize:`1rem`,cursor:o?`not-allowed`:`pointer`},children:o?`Logging in...`:`Login`})]})]})})}export{u as LoginPage};