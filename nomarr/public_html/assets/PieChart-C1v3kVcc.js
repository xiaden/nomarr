import{$ as e,B as t,Ct as n,D as r,Dt as i,Ft as a,G as o,H as s,I as c,J as l,K as u,L as d,O as f,Ot as p,P as m,R as h,S as g,Tt as _,U as v,V as y,W as b,X as x,Y as S,Z as C,a as w,b as T,c as E,d as D,et as O,f as k,i as A,l as j,mt as M,n as N,o as P,q as F,r as I,s as L,st as R,t as z,tt as B,wt as V,x as H,y as U,z as ee}from"./ChartsWrapper-G3KvqESP.js";import{At as W,En as G,Gt as K,Jt as q,Qt as J,cn as Y,ln as X,mn as Z,pn as te,sn as Q,wn as ne}from"./index-BcSftaEo.js";function re(e){return e.innerRadius}function ie(e){return e.outerRadius}function ae(e){return e.startAngle}function oe(e){return e.endAngle}function se(e){return e&&e.padAngle}function ce(e,t,n,r,i,a,o,s){var c=n-e,l=r-t,u=o-i,d=s-a,f=d*c-u*l;if(!(f*f<1e-12))return f=(u*(t-a)-d*(e-i))/f,[e+f*c,t+f*l]}function le(e,t,n,r,i,a,o){var s=e-n,c=t-r,u=(o?a:-a)/l(s*s+c*c),d=u*c,f=-u*s,p=e+d,m=t+f,h=n+d,g=r+f,_=(p+h)/2,v=(m+g)/2,y=h-p,x=g-m,S=y*y+x*x,C=i-a,w=p*g-h*m,T=(x<0?-1:1)*l(b(0,C*C*S-w*w)),E=(w*x-y*T)/S,D=(-w*y-x*T)/S,O=(w*x+y*T)/S,k=(-w*y+x*T)/S,A=E-_,j=D-v,M=O-_,N=k-v;return A*A+j*j>M*M+N*N&&(E=O,D=k),{cx:E,cy:D,x01:-d,y01:-f,x11:E*(i/C-1),y11:D*(i/C-1)}}function ue(){var e=re,n=ie,r=x(0),i=null,a=ae,s=oe,f=se,p=null,m=c(g);function g(){var c,g,_=+e.apply(this,arguments),b=+n.apply(this,arguments),x=a.apply(this,arguments)-v,C=s.apply(this,arguments)-v,w=d(C-x),T=C>x;if(p||=c=m(),b<_&&(g=b,b=_,_=g),!(b>1e-12))p.moveTo(0,0);else if(w>S-1e-12)p.moveTo(b*y(x),b*F(x)),p.arc(0,0,b,x,C,!T),_>1e-12&&(p.moveTo(_*y(C),_*F(C)),p.arc(0,0,_,C,x,T));else{var E=x,D=C,O=x,k=C,A=w,j=w,M=f.apply(this,arguments)/2,N=M>1e-12&&(i?+i.apply(this,arguments):l(_*_+b*b)),P=o(d(b-_)/2,+r.apply(this,arguments)),I=P,L=P,R,z;if(N>1e-12){var B=ee(N/_*F(M)),V=ee(N/b*F(M));(A-=B*2)>1e-12?(B*=T?1:-1,O+=B,k-=B):(A=0,O=k=(x+C)/2),(j-=V*2)>1e-12?(V*=T?1:-1,E+=V,D-=V):(j=0,E=D=(x+C)/2)}var H=b*y(E),U=b*F(E),W=_*y(k),G=_*F(k);if(P>1e-12){var K=b*y(D),q=b*F(D),J=_*y(O),Y=_*F(O),X;if(w<u)if(X=ce(H,U,J,Y,K,q,W,G)){var Z=H-X[0],te=U-X[1],Q=K-X[0],ne=q-X[1],re=1/F(h((Z*Q+te*ne)/(l(Z*Z+te*te)*l(Q*Q+ne*ne)))/2),ie=l(X[0]*X[0]+X[1]*X[1]);I=o(P,(_-ie)/(re-1)),L=o(P,(b-ie)/(re+1))}else I=L=0}j>1e-12?L>1e-12?(R=le(J,Y,H,U,b,L,T),z=le(K,q,W,G,b,L,T),p.moveTo(R.cx+R.x01,R.cy+R.y01),L<P?p.arc(R.cx,R.cy,L,t(R.y01,R.x01),t(z.y01,z.x01),!T):(p.arc(R.cx,R.cy,L,t(R.y01,R.x01),t(R.y11,R.x11),!T),p.arc(0,0,b,t(R.cy+R.y11,R.cx+R.x11),t(z.cy+z.y11,z.cx+z.x11),!T),p.arc(z.cx,z.cy,L,t(z.y11,z.x11),t(z.y01,z.x01),!T))):(p.moveTo(H,U),p.arc(0,0,b,E,D,!T)):p.moveTo(H,U),!(_>1e-12)||!(A>1e-12)?p.lineTo(W,G):I>1e-12?(R=le(W,G,K,q,_,-I,T),z=le(H,U,J,Y,_,-I,T),p.lineTo(R.cx+R.x01,R.cy+R.y01),I<P?p.arc(R.cx,R.cy,I,t(R.y01,R.x01),t(z.y01,z.x01),!T):(p.arc(R.cx,R.cy,I,t(R.y01,R.x01),t(R.y11,R.x11),!T),p.arc(0,0,_,t(R.cy+R.y11,R.cx+R.x11),t(z.cy+z.y11,z.cx+z.x11),T),p.arc(z.cx,z.cy,I,t(z.y11,z.x11),t(z.y01,z.x01),!T))):p.arc(0,0,_,k,O,T)}if(p.closePath(),c)return p=null,c+``||null}return g.centroid=function(){var t=(+e.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-u/2;return[y(r)*t,F(r)*t]},g.innerRadius=function(t){return arguments.length?(e=typeof t==`function`?t:x(+t),g):e},g.outerRadius=function(e){return arguments.length?(n=typeof e==`function`?e:x(+e),g):n},g.cornerRadius=function(e){return arguments.length?(r=typeof e==`function`?e:x(+e),g):r},g.padRadius=function(e){return arguments.length?(i=e==null?null:typeof e==`function`?e:x(+e),g):i},g.startAngle=function(e){return arguments.length?(a=typeof e==`function`?e:x(+e),g):a},g.endAngle=function(e){return arguments.length?(s=typeof e==`function`?e:x(+e),g):s},g.padAngle=function(e){return arguments.length?(f=typeof e==`function`?e:x(+e),g):f},g.context=function(e){return arguments.length?(p=e??null,g):p},g}function de(){return k(`pie`)}function fe(){return r().use(_).pie??{}}function pe(e,t){let r=n(e.startAngle,t.startAngle),i=n(e.endAngle,t.endAngle),a=n(e.innerRadius,t.innerRadius),o=n(e.outerRadius,t.outerRadius),s=n(e.paddingAngle,t.paddingAngle),c=n(e.cornerRadius,t.cornerRadius);return e=>({startAngle:r(e),endAngle:i(e),innerRadius:a(e),outerRadius:o(e),paddingAngle:s(e),cornerRadius:c(e)})}function me(e){let t={startAngle:(e.startAngle+e.endAngle)/2,endAngle:(e.startAngle+e.endAngle)/2,innerRadius:e.innerRadius,outerRadius:e.outerRadius,paddingAngle:e.paddingAngle,cornerRadius:e.cornerRadius};return U({startAngle:e.startAngle,endAngle:e.endAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,paddingAngle:e.paddingAngle,cornerRadius:e.cornerRadius},{createInterpolator:pe,transformProps:e=>({d:ue().cornerRadius(e.cornerRadius)({padAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle}),visibility:e.startAngle===e.endAngle?`hidden`:`visible`}),applyProps(e,t){e.setAttribute(`d`,t.d),e.setAttribute(`visibility`,t.visibility)},initialProps:t,skip:e.skipAnimation,ref:e.ref})}function he(e,t){let r=n(e.startAngle,t.startAngle),i=n(e.endAngle,t.endAngle),a=n(e.innerRadius,t.innerRadius),o=n(e.outerRadius,t.outerRadius),s=n(e.paddingAngle,t.paddingAngle),c=n(e.cornerRadius,t.cornerRadius);return e=>({startAngle:r(e),endAngle:i(e),innerRadius:a(e),outerRadius:o(e),paddingAngle:s(e),cornerRadius:c(e)})}function ge(e){let t={startAngle:(e.startAngle+e.endAngle)/2,endAngle:(e.startAngle+e.endAngle)/2,innerRadius:e.arcLabelRadius??e.innerRadius,outerRadius:e.arcLabelRadius??e.outerRadius,paddingAngle:e.paddingAngle,cornerRadius:e.cornerRadius};return U({startAngle:e.startAngle,endAngle:e.endAngle,innerRadius:e.arcLabelRadius??e.innerRadius,outerRadius:e.arcLabelRadius??e.outerRadius,paddingAngle:e.paddingAngle,cornerRadius:e.cornerRadius},{createInterpolator:he,transformProps:e=>{let[t,n]=ue().cornerRadius(e.cornerRadius).centroid({padAngle:e.paddingAngle,startAngle:e.startAngle,endAngle:e.endAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius});return{x:t,y:n}},applyProps(e,{x:t,y:n}){e.setAttribute(`x`,t.toString()),e.setAttribute(`y`,n.toString())},initialProps:t,skip:e.skipAnimation,ref:e.ref})}var _e=G(ne()),$=G(te()),ve=[`className`,`classes`,`color`,`dataIndex`,`id`,`isFaded`,`isHighlighted`,`isFocused`,`onClick`,`cornerRadius`,`startAngle`,`endAngle`,`innerRadius`,`outerRadius`,`paddingAngle`,`skipAnimation`,`stroke`,`skipInteraction`];function ye(e){return Y(`MuiPieArc`,e)}const be=Q(`MuiPieArc`,[`root`,`highlighted`,`faded`,`series`,`focusIndicator`]);var xe=e=>{let{classes:t,id:n,isFaded:r,isHighlighted:i,dataIndex:a}=e;return J({root:[`root`,`series-${n}`,`data-index-${a}`,i&&`highlighted`,r&&`faded`]},ye,t)},Se=K(`path`,{name:`MuiPieArc`,slot:`Root`,overridesResolver:(e,t)=>t.arc})({transitionProperty:`opacity, fill, filter`,transitionDuration:`300ms`,transitionTimingFunction:H}),Ce=_e.forwardRef(function(e,t){let{className:n,classes:r,color:i,dataIndex:a,id:o,isFaded:s,isHighlighted:c,isFocused:l,onClick:u,cornerRadius:d,startAngle:p,endAngle:m,innerRadius:h,outerRadius:g,paddingAngle:_,skipAnimation:v,stroke:y,skipInteraction:b}=e,x=W(e,ve),S=q(),C=y??(S.vars||S).palette.background.paper,w={id:o,dataIndex:a,classes:r,color:i,isFaded:s,isHighlighted:c,isFocused:l},T=xe(w),E=f({type:`pie`,seriesId:o,dataIndex:a},b),D=me({cornerRadius:d,startAngle:p,endAngle:m,innerRadius:h,outerRadius:g,paddingAngle:_,skipAnimation:v,ref:t});return(0,$.jsx)(Se,Z({onClick:u,cursor:u?`pointer`:`unset`,ownerState:w,className:X(T.root,n),fill:w.color,opacity:w.isFaded?.3:1,filter:w.isHighlighted?`brightness(120%)`:`none`,stroke:C,strokeWidth:1,strokeLinejoin:`round`,"data-highlighted":w.isHighlighted||void 0,"data-faded":w.isFaded||void 0},x,E,D))});function we(){let e=j();return t=>e!==null&&R(e,t)}function Te(t,n,r,i){let{faded:a,highlighted:o,paddingAngle:s=0,cornerRadius:c=0}=t,{radius:{inner:l=0,label:u,outer:d}}=n,f=Z({additionalRadius:0},i&&a||r&&o||{}),p=Math.max(0,e(f.paddingAngle??s)),m=Math.max(0,f.innerRadius??l),h=Math.max(0,f.outerRadius??d+f.additionalRadius);return{paddingAngle:p,innerRadius:m,outerRadius:h,cornerRadius:f.cornerRadius??c,arcLabelRadius:f.arcLabelRadius??u??(m+h)/2}}function Ee(e){let{id:t,data:n,faded:r,highlighted:i}=e,{isFaded:a,isHighlighted:o}=D(),s=we();return _e.useMemo(()=>n.map((n,c)=>{let l={seriesId:t,dataIndex:c},u=o(l),d=!u&&a(l),f=s({type:`pie`,seriesId:t,dataIndex:c}),p=Te(e,{radius:{inner:e.innerRadius??0,outer:e.outerRadius,label:e.arcLabelRadius??0,available:0}},u,d);return Z({},n,Z({additionalRadius:0},d&&r||u&&i||{}),{dataIndex:c,isFaded:d,isHighlighted:u,isFocused:f},p)}),[n,t,o,a,s,e,r,i])}var De=[`slots`,`slotProps`,`innerRadius`,`outerRadius`,`cornerRadius`,`paddingAngle`,`id`,`highlighted`,`faded`,`data`,`onItemClick`,`skipAnimation`];function Oe(e){let{slots:t,slotProps:n,innerRadius:r=0,outerRadius:i,cornerRadius:a=0,paddingAngle:o=0,id:s,highlighted:c,faded:l={additionalRadius:-5},data:u,onItemClick:d,skipAnimation:f}=e,p=W(e,De),m=Ee({innerRadius:r,outerRadius:i,cornerRadius:a,paddingAngle:o,id:s,highlighted:c,faded:l,data:u});if(u.length===0)return null;let h=t?.pieArc??Ce;return(0,$.jsx)(`g`,Z({},p,{children:m.map((e,t)=>(0,$.jsx)(h,Z({startAngle:e.startAngle,endAngle:e.endAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,skipAnimation:f??!1,id:s,color:e.color,dataIndex:t,isFaded:e.isFaded,isHighlighted:e.isHighlighted,isFocused:e.isFocused,onClick:d&&(n=>{d(n,{type:`pie`,seriesId:s,dataIndex:t},e)})},n?.pieArc),e.dataIndex))}))}var ke=[`id`,`classes`,`color`,`startAngle`,`endAngle`,`paddingAngle`,`arcLabelRadius`,`innerRadius`,`outerRadius`,`cornerRadius`,`formattedArcLabel`,`isHighlighted`,`isFaded`,`skipAnimation`,`hidden`];function Ae(e){return Y(`MuiPieArcLabel`,e)}const je=Q(`MuiPieArcLabel`,[`root`,`highlighted`,`faded`,`animate`,`series`]);var Me=e=>{let{classes:t,id:n,isFaded:r,isHighlighted:i,skipAnimation:a}=e;return J({root:[`root`,`series-${n}`,i&&`highlighted`,r&&`faded`,!a&&`animate`]},Ae,t)},Ne=K(`text`,{name:`MuiPieArcLabel`,slot:`Root`})(({theme:e})=>({fill:(e.vars||e).palette.text.primary,textAnchor:`middle`,dominantBaseline:`middle`,pointerEvents:`none`,animationName:`animate-opacity`,animationDuration:`0s`,animationTimingFunction:H,transitionDuration:`300ms`,transitionProperty:`opacity`,transitionTimingFunction:H,[`&.${je.animate}`]:{animationDuration:`300ms`},"@keyframes animate-opacity":{from:{opacity:0}}})),Pe=_e.forwardRef(function(e,t){let{id:n,classes:r,color:i,startAngle:a,endAngle:o,paddingAngle:s,arcLabelRadius:c,cornerRadius:l,formattedArcLabel:u,isHighlighted:d,isFaded:f,skipAnimation:p,hidden:m}=e,h=W(e,ke),g=Me({id:n,classes:r,color:i,isFaded:f,isHighlighted:d,skipAnimation:p}),_=ge({cornerRadius:l,startAngle:a,endAngle:o,innerRadius:c,outerRadius:c,paddingAngle:s,skipAnimation:p,ref:t});return(0,$.jsx)(Ne,Z({className:g.root},h,_,{opacity:m?0:1,children:u}))}),Fe=[`arcLabel`,`arcLabelMinAngle`,`arcLabelRadius`,`cornerRadius`,`data`,`faded`,`highlighted`,`id`,`innerRadius`,`outerRadius`,`paddingAngle`,`skipAnimation`,`slotProps`,`slots`],Ie=180/Math.PI;function Le(e,t,n){if(!e||(n.endAngle-n.startAngle)*Ie<t)return null;switch(e){case`label`:return m(n.label,`arc`);case`value`:return n.value?.toString();case`formattedValue`:return n.formattedValue;default:return e(Z({},n,{label:m(n.label,`arc`)}))}}function Re(e){let{arcLabel:t,arcLabelMinAngle:n=0,arcLabelRadius:r,cornerRadius:i=0,data:a,faded:o={additionalRadius:-5},highlighted:s,id:c,innerRadius:l,outerRadius:u,paddingAngle:d=0,skipAnimation:f,slotProps:p,slots:m}=e,h=W(e,Fe),g=Ee({innerRadius:l,outerRadius:u,arcLabelRadius:r,cornerRadius:i,paddingAngle:d,id:c,highlighted:s,faded:o,data:a});if(a.length===0)return null;let _=m?.pieArcLabel??Pe;return(0,$.jsx)(`g`,Z({},h,{children:g.map(e=>(0,$.jsx)(_,Z({startAngle:e.startAngle,endAngle:e.endAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,arcLabelRadius:e.arcLabelRadius,cornerRadius:e.cornerRadius,hidden:e.hidden,id:c,color:e.color,isFaded:e.isFaded,isHighlighted:e.isHighlighted,formattedArcLabel:Le(t,n,e),skipAnimation:f??!1},p?.pieArcLabel),e.id??e.dataIndex))}))}function ze(e){return Y(`MuiPieChart`,e)}Q(`MuiPieChart`,[`root`,`series`,`seriesLabels`]);const Be=e=>J({root:[`root`],series:[`series`],seriesLabels:[`seriesLabels`]},ze,e);function Ve(e){let{skipAnimation:t,slots:n,slotProps:r,onItemClick:i}=e,a=de(),o=fe(),s=E(t),c=Be();if(a===void 0)return null;let{series:l,seriesOrder:u}=a;return(0,$.jsxs)(`g`,{children:[u.map(e=>{let{cornerRadius:t,paddingAngle:a,data:u,highlighted:d,faded:f}=l[e];return(0,$.jsx)(`g`,{className:c.series,transform:`translate(${o[e].center.x}, ${o[e].center.y})`,"data-series":e,children:(0,$.jsx)(Oe,{innerRadius:o[e].radius.inner,outerRadius:o[e].radius.outer,cornerRadius:t,paddingAngle:a,id:e,data:u,skipAnimation:s,highlighted:d,faded:f,onItemClick:i,slots:n,slotProps:r})},e)}),u.map(e=>{let{cornerRadius:t,paddingAngle:i,arcLabel:a,arcLabelMinAngle:u,data:d}=l[e];return(0,$.jsx)(`g`,{className:c.seriesLabels,transform:`translate(${o[e].center.x}, ${o[e].center.y})`,"data-series":e,children:(0,$.jsx)(Re,{innerRadius:o[e].radius.inner,outerRadius:o[e].radius.outer,arcLabelRadius:o[e].radius.label,cornerRadius:t,paddingAngle:i,id:e,data:d,skipAnimation:s,arcLabel:a,arcLabelMinAngle:u,slots:n,slotProps:r})},e)})]})}const He=[B,M,C,i,O];var Ue=[`arcLabelRadius`];function We(e){let t=q(),n=j(),r=fe(),{isHighlighted:i,isFaded:a}=g(n),o=de();if(n===null||n.type!==`pie`||!o)return null;let s=o?.series[n.seriesId],{center:c,radius:l}=r[n.seriesId];if(!s||!c||!l)return null;let u=s.data[n.dataIndex],d=W(Te(s,r[n.seriesId],i,a),Ue);return(0,$.jsx)(Ce,Z({transform:`translate(${r[s.id].center.x}, ${r[s.id].center.y})`,startAngle:u.startAngle,endAngle:u.endAngle,color:`transparent`,pointerEvents:`none`,skipInteraction:!0,skipAnimation:!0,stroke:(t.vars??t).palette.text.primary,id:s.id,className:be.focusIndicator,dataIndex:n.dataIndex,isFaded:!1,isHighlighted:!1,isFocused:!1,strokeWidth:3},d,e))}var Ge=[`series`,`width`,`height`,`margin`,`colors`,`sx`,`skipAnimation`,`hideLegend`,`children`,`slots`,`slotProps`,`onItemClick`,`loading`,`highlightedItem`,`onHighlightChange`,`className`,`showToolbar`],Ke=_e.forwardRef(function(e,t){let n=a({props:e,name:`MuiPieChart`}),{series:r,width:i,height:o,margin:s,colors:c,sx:l,skipAnimation:u,hideLegend:d,children:f,slots:m,slotProps:h,onItemClick:g,loading:_,highlightedItem:v,onHighlightChange:y,className:b,showToolbar:x}=n,S=W(n,Ge),C=p(s,V),{chartDataProviderProps:T,chartsSurfaceProps:E}=A(Z({},S,{series:r.map(e=>Z({type:`pie`},e)),width:i,height:o,margin:C,colors:c,highlightedItem:v,onHighlightChange:y,className:b,skipAnimation:u,plugins:He}),t),D=m?.tooltip??L,O=m?.toolbar;return(0,$.jsx)(I,Z({},T,{children:(0,$.jsxs)(z,{legendPosition:h?.legend?.position,legendDirection:h?.legend?.direction??`vertical`,sx:l,hideLegend:d??!1,children:[x&&O?(0,$.jsx)(O,Z({},h?.toolbar)):null,!d&&(0,$.jsx)(P,{direction:h?.legend?.direction??`vertical`,slots:m,slotProps:h}),(0,$.jsxs)(N,Z({},E,{children:[(0,$.jsx)(Ve,{slots:m,slotProps:h,onItemClick:g}),(0,$.jsx)(We,{}),(0,$.jsx)(w,{loading:_,slots:m,slotProps:h}),f]})),!_&&(0,$.jsx)(D,Z({trigger:`item`},h?.tooltip))]})}))});export{Ke as t};