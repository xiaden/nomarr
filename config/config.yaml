# ======================================================================
# Nomarr User Configuration
# ======================================================================
# This file contains the ONLY user-configurable settings for Nomarr.
# All other operational parameters are internal constants and cannot
# be changed without modifying the source code.
#
# These settings cover the essential user-facing configuration:
# - Where files live (models, DB, library)
# - How tags are written (file write mode, overwrite behavior)
# - Library scanning (auto-tag, ignore patterns)
# - Worker counts (global and per-pool for parallel processing, VRAM usage)
# - Model cache behavior (idle timeout)
# - Calibration (enable calibration mode, repo URL)
# - Authentication (admin password)
# ======================================================================

# ----------------------------------------------------------------------
# Filesystem Paths
# ----------------------------------------------------------------------
models_dir: /app/models # Directory containing ML models
db_path: /app/config/db/nomarr.db # SQLite database path
library_root: /media # Path to music library root

# ----------------------------------------------------------------------
# Tag Writing Behavior
# ----------------------------------------------------------------------
file_write_mode:
  full # Tag writing mode:
  #   "none"    - DB only, no file writes
  #   "minimal" - mood-* tags + summary only
  #   "full"    - numeric + mood-* tags
overwrite_tags: true # Overwrite existing tags in files

# ----------------------------------------------------------------------
# Library Scanning
# ----------------------------------------------------------------------
library_auto_tag: true # Auto-enqueue untagged files during scan
library_ignore_patterns:
  "" # Comma-separated path patterns to skip
  # Example: "*/Audiobooks/*,*.wav"

# ----------------------------------------------------------------------
# Worker Settings
# ----------------------------------------------------------------------
# Per-pool worker counts (1-8 recommended, controls VRAM usage)
# Defaults to 1 if not specified
tagger_worker_count: 1 # ML tagging workers
scanner_worker_count: 1 # Library scanner workers
recalibration_worker_count: 1 # Calibration workers

# ----------------------------------------------------------------------
# Model Cache
# ----------------------------------------------------------------------
cache_idle_timeout:
  300 # Seconds before unloading idle models
  # (0 = never unload, useful for dev)

# ----------------------------------------------------------------------
# Calibration (Developer Feature)
# ----------------------------------------------------------------------
calibrate_heads: false # Enable calibration generation mode
calibration_repo: "https://github.com/xiaden/nom-cal" # Calibration repo URL

# ----------------------------------------------------------------------
# Authentication
# ----------------------------------------------------------------------
admin_password: # Admin password for web UI
  # (auto-generated if not set)
